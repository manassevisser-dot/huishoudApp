+ 04:54:37 ./phoenix-check.sh:9:toplevel: set -euo pipefail
+ 04:54:37 ./phoenix-check.sh:10:toplevel: IFS='
	'
+ 04:54:37 ./phoenix-check.sh:12:toplevel: readonly SCRIPT_VERSION=4.0.0
+ 04:54:37 ./phoenix-check.sh:12:toplevel: SCRIPT_VERSION=4.0.0
+ 04:54:37 ./phoenix-check.sh:13:toplevel: readonly PROJECT_ROOT=/home/user/pre7
+ 04:54:37 ./phoenix-check.sh:13:toplevel: PROJECT_ROOT=/home/user/pre7
++ 04:54:37 ./phoenix-check.sh:14:toplevel: id -u
+ 04:54:37 ./phoenix-check.sh:14:toplevel: readonly CACHE_DIR=/tmp/phoenix-audit-1000
+ 04:54:37 ./phoenix-check.sh:14:toplevel: CACHE_DIR=/tmp/phoenix-audit-1000
+ 04:54:38 ./phoenix-check.sh:15:toplevel: readonly CONFIG_FILE=/home/user/pre7/.phoenix-audit.conf
+ 04:54:38 ./phoenix-check.sh:15:toplevel: CONFIG_FILE=/home/user/pre7/.phoenix-audit.conf
+ 04:54:38 ./phoenix-check.sh:18:toplevel: [[ '' == \1 ]]
+ 04:54:38 ./phoenix-check.sh:18:toplevel: [[ ! -t 1 ]]
+ 04:54:38 ./phoenix-check.sh:22:toplevel: readonly 'RED=\033[0;31m' 'GREEN=\033[0;32m' 'BLUE=\033[0;34m'
+ 04:54:38 ./phoenix-check.sh:22:toplevel: RED='\033[0;31m'
+ 04:54:38 ./phoenix-check.sh:22:toplevel: GREEN='\033[0;32m'
+ 04:54:38 ./phoenix-check.sh:22:toplevel: BLUE='\033[0;34m'
+ 04:54:38 ./phoenix-check.sh:23:toplevel: readonly 'YELLOW=\033[1;33m' 'BOLD=\033[1m' 'NC=\033[0m'
+ 04:54:38 ./phoenix-check.sh:23:toplevel: YELLOW='\033[1;33m'
+ 04:54:38 ./phoenix-check.sh:23:toplevel: BOLD='\033[1m'
+ 04:54:38 ./phoenix-check.sh:23:toplevel: NC='\033[0m'
+ 04:54:38 ./phoenix-check.sh:24:toplevel: readonly ICON_OK=âœ… ICON_FAIL=âŒ ICON_WARN=âš ï¸
+ 04:54:38 ./phoenix-check.sh:24:toplevel: ICON_OK=âœ…
+ 04:54:38 ./phoenix-check.sh:24:toplevel: ICON_FAIL=âŒ
+ 04:54:38 ./phoenix-check.sh:24:toplevel: ICON_WARN=âš ï¸
+ 04:54:38 ./phoenix-check.sh:28:toplevel: VERBOSE=false
+ 04:54:38 ./phoenix-check.sh:29:toplevel: PARALLEL=false
+ 04:54:38 ./phoenix-check.sh:30:toplevel: DRY_RUN=false
+ 04:54:38 ./phoenix-check.sh:31:toplevel: PROGRESS=true
+ 04:54:38 ./phoenix-check.sh:32:toplevel: GENERATE_REPORT=true
+ 04:54:38 ./phoenix-check.sh:33:toplevel: REPORT_FORMAT=html
+ 04:54:38 ./phoenix-check.sh:34:toplevel: INSTALL_HOOK=false
+ 04:54:38 ./phoenix-check.sh:35:toplevel: UNINSTALL_HOOK=false
+ 04:54:38 ./phoenix-check.sh:39:toplevel: THRESHOLDS=(['min_ssot']='1' ['min_reducer']='3' ['min_kernel']='2' ['min_decimal_logic']='0' ['min_decimal_ui']='1' ['min_parsing']='2' ['max_deep']='0' ['max_console']='0' ['fsm_states']='5')
+ 04:54:38 ./phoenix-check.sh:39:toplevel: declare -A THRESHOLDS
+ 04:54:38 ./phoenix-check.sh:891:toplevel: main --report html
+ 04:54:38 ./phoenix-check.sh:806:main: [[ 2 -gt 0 ]]
+ 04:54:38 ./phoenix-check.sh:807:main: case "$1" in
+ 04:54:38 ./phoenix-check.sh:813:main: GENERATE_REPORT=true
+ 04:54:38 ./phoenix-check.sh:815:main: [[ -n html ]]
+ 04:54:38 ./phoenix-check.sh:815:main: [[ html != -* ]]
+ 04:54:38 ./phoenix-check.sh:816:main: REPORT_FORMAT=html
+ 04:54:38 ./phoenix-check.sh:816:main: shift
+ 04:54:38 ./phoenix-check.sh:826:main: shift
+ 04:54:38 ./phoenix-check.sh:806:main: [[ 0 -gt 0 ]]
+ 04:54:38 ./phoenix-check.sh:830:main: load_config
+ 04:54:38 ./phoenix-check.sh:49:load_config: [[ -f /home/user/pre7/.phoenix-audit.conf ]]
+ 04:54:38 ./phoenix-check.sh:49:load_config: true
+ 04:54:38 ./phoenix-check.sh:831:main: init_audit
+ 04:54:38 ./phoenix-check.sh:53:init_audit: rm -rf /tmp/phoenix-audit-1000
+ 04:54:38 ./phoenix-check.sh:54:init_audit: mkdir -p /tmp/phoenix-audit-1000/locks /tmp/phoenix-audit-1000/sections
+ 04:54:38 ./phoenix-check.sh:55:init_audit: echo 0
+ 04:54:38 ./phoenix-check.sh:56:init_audit: echo 0
+ 04:54:38 ./phoenix-check.sh:57:init_audit: echo 0
+ 04:54:38 ./phoenix-check.sh:58:init_audit: :
+ 04:54:38 ./phoenix-check.sh:834:main: [[ false == \t\r\u\e ]]
+ 04:54:38 ./phoenix-check.sh:837:main: [[ false == \t\r\u\e ]]
+ 04:54:38 ./phoenix-check.sh:842:main: echo -e '\033[0;34m\033[1mðŸš€ Phoenix Audit v4.0.0\033[0m'
++ 04:54:38 ./phoenix-check.sh:843:main: pwd
+ 04:54:38 ./phoenix-check.sh:843:main: echo -e '\033[0;34mðŸ“ /home/user/pre7\033[0m'
+ 04:54:38 ./phoenix-check.sh:844:main: [[ false == \t\r\u\e ]]
+ 04:54:38 ./phoenix-check.sh:845:main: echo
+ 04:54:38 ./phoenix-check.sh:848:main: [[ false == \t\r\u\e ]]
+ 04:54:38 ./phoenix-check.sh:858:main: audit_wai_001_003
+ 04:54:38 ./phoenix-check.sh:454:audit_wai_001_003: log_section '1. CORE & HOUSEHOLD (WAI-001-003)'
+ 04:54:38 ./phoenix-check.sh:88:log_section: echo
+ 04:54:38 ./phoenix-check.sh:88:log_section: echo -e '\033[1m\033[0;34mâ”â”â”â”â”â”â”â”â”â” 1. CORE & HOUSEHOLD (WAI-001-003) â”â”â”â”â”â”â”â”â”â”\033[0m'
+ 04:54:38 ./phoenix-check.sh:455:audit_wai_001_003: run_cmd 'npm run typecheck' TypeScript
+ 04:54:38 ./phoenix-check.sh:412:run_cmd: local 'cmd=npm run typecheck'
+ 04:54:38 ./phoenix-check.sh:413:run_cmd: local desc=TypeScript
+ 04:54:38 ./phoenix-check.sh:414:run_cmd: local allow=false
+ 04:54:38 ./phoenix-check.sh:416:run_cmd: atomic_inc total
+ 04:54:38 ./phoenix-check.sh:63:atomic_inc: local counter=total
+ 04:54:38 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/total
+ 04:54:38 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/total.lock
+ 04:54:38 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/total ]]
+ 04:54:38 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:38 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/total
+ 04:54:38 ./phoenix-check.sh:78:atomic_inc: local v=0
+ 04:54:38 ./phoenix-check.sh:79:atomic_inc: echo 1
+ 04:54:38 ./phoenix-check.sh:417:run_cmd: log_verbose 'Run: npm run typecheck'
+ 04:54:38 ./phoenix-check.sh:89:log_verbose: [[ false == \t\r\u\e ]]
+ 04:54:38 ./phoenix-check.sh:89:log_verbose: return 0
+ 04:54:38 ./phoenix-check.sh:420:run_cmd: [[ false == \t\r\u\e ]]
+ 04:54:38 ./phoenix-check.sh:427:run_cmd: local out
++ 04:54:38 ./phoenix-check.sh:428:run_cmd: eval 'npm run typecheck'
+ 04:54:45 ./phoenix-check.sh:428:run_cmd: out='+++ 04:54:38 ./phoenix-check.sh:428:run_cmd: npm run typecheck

> typecheck
> tsc --noEmit'
+ 04:54:45 ./phoenix-check.sh:430:run_cmd: echo -e '\033[0;32mâœ… TypeScript\033[0m'
+ 04:54:45 ./phoenix-check.sh:431:run_cmd: atomic_inc passed
+ 04:54:45 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:45 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:45 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:45 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:45 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:45 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:45 ./phoenix-check.sh:78:atomic_inc: local v=0
+ 04:54:45 ./phoenix-check.sh:79:atomic_inc: echo 1
+ 04:54:45 ./phoenix-check.sh:432:run_cmd: return 0
+ 04:54:45 ./phoenix-check.sh:456:audit_wai_001_003: check_file_exists golden_master_scenarios.json 'Golden Master' 50
+ 04:54:45 ./phoenix-check.sh:375:check_file_exists: local fp=golden_master_scenarios.json
+ 04:54:45 ./phoenix-check.sh:376:check_file_exists: local 'desc=Golden Master'
+ 04:54:45 ./phoenix-check.sh:377:check_file_exists: local mins=50
+ 04:54:45 ./phoenix-check.sh:379:check_file_exists: atomic_inc total
+ 04:54:45 ./phoenix-check.sh:63:atomic_inc: local counter=total
+ 04:54:45 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/total
+ 04:54:45 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/total.lock
+ 04:54:45 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/total ]]
+ 04:54:45 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:45 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/total
+ 04:54:45 ./phoenix-check.sh:78:atomic_inc: local v=1
+ 04:54:45 ./phoenix-check.sh:79:atomic_inc: echo 2
+ 04:54:45 ./phoenix-check.sh:382:check_file_exists: [[ ! -f golden_master_scenarios.json ]]
+ 04:54:45 ./phoenix-check.sh:389:check_file_exists: local sz
+ 04:54:45 ./phoenix-check.sh:390:check_file_exists: [[ linux-gnu == \d\a\r\w\i\n* ]]
++ 04:54:45 ./phoenix-check.sh:393:check_file_exists: stat -c%s golden_master_scenarios.json
+ 04:54:45 ./phoenix-check.sh:393:check_file_exists: sz=5640
+ 04:54:45 ./phoenix-check.sh:397:check_file_exists: [[ -z 5640 ]]
+ 04:54:45 ./phoenix-check.sh:400:check_file_exists: [[ 5640 -lt 50 ]]
+ 04:54:45 ./phoenix-check.sh:406:check_file_exists: echo -e '\033[0;32mâœ… Golden Master (5640B)\033[0m'
+ 04:54:45 ./phoenix-check.sh:407:check_file_exists: atomic_inc passed
+ 04:54:45 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:45 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:45 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:45 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:45 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:45 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:45 ./phoenix-check.sh:78:atomic_inc: local v=1
+ 04:54:45 ./phoenix-check.sh:79:atomic_inc: echo 2
+ 04:54:45 ./phoenix-check.sh:408:check_file_exists: return 0
+ 04:54:45 ./phoenix-check.sh:457:audit_wai_001_003: check_pattern 'as const' src/selectors/householdSelectors.ts SSOT 1 '' ssot
+ 04:54:45 ./phoenix-check.sh:268:check_pattern: local '_pat=as const'
+ 04:54:45 ./phoenix-check.sh:269:check_pattern: local _target=src/selectors/householdSelectors.ts
+ 04:54:45 ./phoenix-check.sh:270:check_pattern: local _desc=SSOT
+ 04:54:45 ./phoenix-check.sh:271:check_pattern: local _min=1
+ 04:54:45 ./phoenix-check.sh:272:check_pattern: local _exclude=
+ 04:54:45 ./phoenix-check.sh:273:check_pattern: local _id=ssot
+ 04:54:45 ./phoenix-check.sh:275:check_pattern: atomic_inc total
+ 04:54:45 ./phoenix-check.sh:63:atomic_inc: local counter=total
+ 04:54:45 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/total
+ 04:54:45 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/total.lock
+ 04:54:45 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/total ]]
+ 04:54:45 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:45 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/total
+ 04:54:45 ./phoenix-check.sh:78:atomic_inc: local v=2
+ 04:54:46 ./phoenix-check.sh:79:atomic_inc: echo 3
+ 04:54:46 ./phoenix-check.sh:276:check_pattern: log_verbose 'Check: SSOT'
+ 04:54:46 ./phoenix-check.sh:89:log_verbose: [[ false == \t\r\u\e ]]
+ 04:54:46 ./phoenix-check.sh:89:log_verbose: return 0
+ 04:54:46 ./phoenix-check.sh:279:check_pattern: [[ -z src/selectors/householdSelectors.ts ]]
+ 04:54:46 ./phoenix-check.sh:283:check_pattern: [[ ! -e src/selectors/householdSelectors.ts ]]
+ 04:54:46 ./phoenix-check.sh:289:check_pattern: local _matches=
+ 04:54:46 ./phoenix-check.sh:290:check_pattern: command -v rg
+ 04:54:46 ./phoenix-check.sh:291:check_pattern: [[ -n '' ]]
++ 04:54:46 ./phoenix-check.sh:294:check_pattern: rg -n --type-add 'ts:*.{ts,tsx}' --type ts -e 'as const' src/selectors/householdSelectors.ts
+ 04:54:46 ./phoenix-check.sh:294:check_pattern: _matches='23:} as const; // <--- Dit is de cruciale toevoeging voor de audit'
+ 04:54:46 ./phoenix-check.sh:306:check_pattern: local _count=0
+ 04:54:46 ./phoenix-check.sh:307:check_pattern: [[ -n 23:} as const; // <--- Dit is de cruciale toevoeging voor de audit ]]
++ 04:54:46 ./phoenix-check.sh:307:check_pattern: grep -c '^'
++ 04:54:46 ./phoenix-check.sh:307:check_pattern: printf '%s\n' '23:} as const; // <--- Dit is de cruciale toevoeging voor de audit'
+ 04:54:46 ./phoenix-check.sh:307:check_pattern: _count=1
+ 04:54:46 ./phoenix-check.sh:310:check_pattern: [[ 1 -ge 1 ]]
+ 04:54:46 ./phoenix-check.sh:311:check_pattern: echo -e '\033[0;32mâœ… SSOT \033[1m(1)\033[0m'
+ 04:54:46 ./phoenix-check.sh:312:check_pattern: atomic_inc passed
+ 04:54:46 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:46 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:46 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:46 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:46 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:46 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:46 ./phoenix-check.sh:78:atomic_inc: local v=2
+ 04:54:46 ./phoenix-check.sh:79:atomic_inc: echo 3
+ 04:54:46 ./phoenix-check.sh:313:check_pattern: [[ false == \t\r\u\e ]]
+ 04:54:46 ./phoenix-check.sh:314:check_pattern: return 0
+ 04:54:46 ./phoenix-check.sh:462:audit_wai_001_003: atomic_inc total
+ 04:54:46 ./phoenix-check.sh:63:atomic_inc: local counter=total
+ 04:54:46 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/total
+ 04:54:46 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/total.lock
+ 04:54:46 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/total ]]
+ 04:54:46 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:46 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/total
+ 04:54:46 ./phoenix-check.sh:78:atomic_inc: local v=3
+ 04:54:46 ./phoenix-check.sh:79:atomic_inc: echo 4
+ 04:54:46 ./phoenix-check.sh:463:audit_wai_001_003: log_verbose 'Actions: declared vs reducer cases vs dispatch'
+ 04:54:46 ./phoenix-check.sh:89:log_verbose: [[ false == \t\r\u\e ]]
+ 04:54:46 ./phoenix-check.sh:89:log_verbose: return 0
+ 04:54:46 ./phoenix-check.sh:465:audit_wai_001_003: local _root=src
+ 04:54:46 ./phoenix-check.sh:470:audit_wai_001_003: _decl_sources=('src/context/FormContext.tsx' 'src/context/actions.ts' 'src/state/types.ts')
+ 04:54:46 ./phoenix-check.sh:470:audit_wai_001_003: local _decl_sources
++ 04:54:46 ./phoenix-check.sh:472:audit_wai_001_003: find_reducer_file src
++ 04:54:46 ./phoenix-check.sh:126:find_reducer_file: local _root=src _cand=
++ 04:54:46 ./phoenix-check.sh:127:find_reducer_file: command -v rg
+++ 04:54:46 ./phoenix-check.sh:128:find_reducer_file: rg -l 'switch\s*\(\s*action\.type' src
+++ 04:54:46 ./phoenix-check.sh:128:find_reducer_file: head -1
+++ 04:54:46 ./phoenix-check.sh:128:find_reducer_file: true
++ 04:54:46 ./phoenix-check.sh:128:find_reducer_file: _cand=
++ 04:54:46 ./phoenix-check.sh:129:find_reducer_file: [[ -n '' ]]
+++ 04:54:46 ./phoenix-check.sh:130:find_reducer_file: rg -l 'if\s*\(\s*action\.type\s*===\s*['\''"][A-Z0-9_]+['\''"]\s*\)' src
+++ 04:54:46 ./phoenix-check.sh:130:find_reducer_file: head -1
+++ 04:54:46 ./phoenix-check.sh:130:find_reducer_file: true
++ 04:54:46 ./phoenix-check.sh:130:find_reducer_file: _cand=
++ 04:54:46 ./phoenix-check.sh:131:find_reducer_file: [[ -n '' ]]
+++ 04:54:46 ./phoenix-check.sh:132:find_reducer_file: head -1
+++ 04:54:46 ./phoenix-check.sh:132:find_reducer_file: rg -l '(caseReducers|handlers|reducers)\.[A-Z0-9_]+\s*=' src
+++ 04:54:46 ./phoenix-check.sh:132:find_reducer_file: true
++ 04:54:46 ./phoenix-check.sh:132:find_reducer_file: _cand=
++ 04:54:46 ./phoenix-check.sh:133:find_reducer_file: [[ -n '' ]]
+++ 04:54:46 ./phoenix-check.sh:134:find_reducer_file: rg -l '\{\s*[A-Z0-9_]+\s*:' src
+++ 04:54:46 ./phoenix-check.sh:134:find_reducer_file: head -1
++ 04:54:46 ./phoenix-check.sh:134:find_reducer_file: _cand=src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:135:find_reducer_file: [[ -n src/components/fields/__tests__/MoneyField.test.tsx ]]
++ 04:54:46 ./phoenix-check.sh:135:find_reducer_file: echo src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:135:find_reducer_file: return 0
+ 04:54:46 ./phoenix-check.sh:472:audit_wai_001_003: local _reducer=src/components/fields/__tests__/MoneyField.test.tsx
+ 04:54:46 ./phoenix-check.sh:473:audit_wai_001_003: [[ -z src/components/fields/__tests__/MoneyField.test.tsx ]]
+ 04:54:46 ./phoenix-check.sh:475:audit_wai_001_003: local _decl_file=/tmp/phoenix-audit-1000/declared.actions
+ 04:54:46 ./phoenix-check.sh:476:audit_wai_001_003: local _case_file=/tmp/phoenix-audit-1000/cases.actions
+ 04:54:46 ./phoenix-check.sh:477:audit_wai_001_003: local _used_file=/tmp/phoenix-audit-1000/used.actions
+ 04:54:46 ./phoenix-check.sh:480:audit_wai_001_003: extract_declared_actions src/context/FormContext.tsx src/context/actions.ts src/state/types.ts
+ 04:54:46 ./phoenix-check.sh:147:extract_declared_actions: local _out= _file
+ 04:54:46 ./phoenix-check.sh:148:extract_declared_actions: for _file in "$@"
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: [[ -n src/context/FormContext.tsx ]]
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: [[ -f src/context/FormContext.tsx ]]
+ 04:54:46 ./phoenix-check.sh:151:extract_declared_actions: command -v rg
++ 04:54:46 ./phoenix-check.sh:162:extract_declared_actions: rg -No --replace '$1' 'type:[[:space:]]*'\''([A-Z0-9_]+)'\''' src/context/FormContext.tsx
++ 04:54:46 ./phoenix-check.sh:163:extract_declared_actions: rg -No --replace '$1' 'type:[[:space:]]*"([A-Z0-9_]+)"' src/context/FormContext.tsx
++ 04:54:46 ./phoenix-check.sh:164:extract_declared_actions: rg -No --replace '$1' '([A-Z0-9_]+)[[:space:]]*:[[:space:]]*['\''"][A-Z0-9_]+['\''"]' src/context/FormContext.tsx
++ 04:54:46 ./phoenix-check.sh:165:extract_declared_actions: sed -E 's/^\s*([A-Za-z0-9_]+).*/\1/'
++ 04:54:46 ./phoenix-check.sh:165:extract_declared_actions: grep -E '^[A-Z0-9_]+'
++ 04:54:46 ./phoenix-check.sh:165:extract_declared_actions: sed -E 's/.*\{([^}]*)\}.*/\1/'
++ 04:54:46 ./phoenix-check.sh:165:extract_declared_actions: tr ',\n' '\n'
++ 04:54:46 ./phoenix-check.sh:165:extract_declared_actions: rg -U -No 'enum[[:space:]]+Action(Type)?[[:space:]]*\{([^}]*)\}' src/context/FormContext.tsx
++ 04:54:46 ./phoenix-check.sh:165:extract_declared_actions: true
+ 04:54:46 ./phoenix-check.sh:162:extract_declared_actions: _out=
+ 04:54:46 ./phoenix-check.sh:171:extract_declared_actions: _out+='
'
+ 04:54:46 ./phoenix-check.sh:148:extract_declared_actions: for _file in "$@"
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: [[ -n src/context/actions.ts ]]
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: [[ -f src/context/actions.ts ]]
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: continue
+ 04:54:46 ./phoenix-check.sh:148:extract_declared_actions: for _file in "$@"
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: [[ -n src/state/types.ts ]]
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: [[ -f src/state/types.ts ]]
+ 04:54:46 ./phoenix-check.sh:149:extract_declared_actions: continue
+ 04:54:46 ./phoenix-check.sh:175:extract_declared_actions: sort -u
+ 04:54:46 ./phoenix-check.sh:175:extract_declared_actions: sed '/^\s*$/d'
+ 04:54:46 ./phoenix-check.sh:175:extract_declared_actions: printf '%s\n' '
'
+ 04:54:46 ./phoenix-check.sh:481:audit_wai_001_003: extract_case_actions src/components/fields/__tests__/MoneyField.test.tsx
+ 04:54:46 ./phoenix-check.sh:180:extract_case_actions: local _target=src/components/fields/__tests__/MoneyField.test.tsx
+ 04:54:46 ./phoenix-check.sh:181:extract_case_actions: [[ -z src/components/fields/__tests__/MoneyField.test.tsx ]]
+ 04:54:46 ./phoenix-check.sh:181:extract_case_actions: [[ ! -f src/components/fields/__tests__/MoneyField.test.tsx ]]
+ 04:54:46 ./phoenix-check.sh:182:extract_case_actions: local _out=
+ 04:54:46 ./phoenix-check.sh:184:extract_case_actions: command -v rg
++ 04:54:46 ./phoenix-check.sh:197:extract_case_actions: echo ''
++ 04:54:46 ./phoenix-check.sh:198:extract_case_actions: rg -No --replace '$1' 'case[[:space:]]+'\''([A-Z][A-Z0-9_]*_[A-Z0-9_]+)'\'':[[:space:]]*$' src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:199:extract_case_actions: rg -No --replace '$1' 'case[[:space:]]+"([A-Z][A-Z0-9_]*_[A-Z0-9_]+)"[[:space:]]*:[[:space:]]*$' src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:200:extract_case_actions: rg -No --replace '$1' 'if[[:space:]]*\([[:space:]]*action\.type[[:space:]]*===[[:space:]]*'\''([A-Z][A-Z0-9_]*_[A-Z0-9_]+)'\''' src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:201:extract_case_actions: rg -No --replace '$1' 'if[[:space:]]*\([[:space:]]*action\.type[[:space:]]*===[[:space:]]*"([A-Z][A-Z0-9_]*_[A-Z0-9_]+)"' src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:202:extract_case_actions: rg -No --replace '$2' '(caseReducers|handlers|reducers)\.([A-Z][A-Z0-9_]*_[A-Z0-9_]+)[[:space:]]*=' src/components/fields/__tests__/MoneyField.test.tsx
++ 04:54:46 ./phoenix-check.sh:203:extract_case_actions: rg -No --replace '$1' '\{[[:space:]]*([A-Z][A-Z0-9_]*_[A-Z0-9_]+)[[:space:]]*:' src/components/fields/__tests__/MoneyField.test.tsx
+ 04:54:46 ./phoenix-check.sh:197:extract_case_actions: _out=
+ 04:54:46 ./phoenix-check.sh:203:extract_case_actions: sed '/^\s*$/d'
+ 04:54:46 ./phoenix-check.sh:203:extract_case_actions: printf '%s\n' ''
+ 04:54:46 ./phoenix-check.sh:203:extract_case_actions: sort -u
+ 04:54:46 ./phoenix-check.sh:482:audit_wai_001_003: extract_dispatch_actions src
+ 04:54:46 ./phoenix-check.sh:208:extract_dispatch_actions: local _root=src _out=
+ 04:54:46 ./phoenix-check.sh:210:extract_dispatch_actions: command -v rg
++ 04:54:46 ./phoenix-check.sh:216:extract_dispatch_actions: rg -No --replace '$1' 'dispatch\([^)]*type:[[:space:]]*'\''([A-Z][A-Z0-9_]*_[A-Z0-9_]+)'\''' src
++ 04:54:46 ./phoenix-check.sh:217:extract_dispatch_actions: rg -No --replace '$1' 'dispatch\([^)]*type:[[:space:]]*"([A-Z][A-Z0-9_]*_[A-Z0-9_]+)"' src
++ 04:54:46 ./phoenix-check.sh:218:extract_dispatch_actions: rg -No --replace '$1' 'dispatch\([^)]*type:[[:space:]]*[A-Za-z0-9_.]+\.([A-Z][A-Z0-9_]*_[A-Z0-9_]+)' src
+ 04:54:46 ./phoenix-check.sh:216:extract_dispatch_actions: _out='src/screens/Wizard/WizardPage.tsx:SET_PAGE_DATA
src/app/hooks/useAppOrchestration.ts:RESET_STATE
src/app/hooks/useAppOrchestration.ts:LOAD_SAVED_STATE
src/app/hooks/useAppOrchestration.ts:SET_SPECIAL_STATUS'
+ 04:54:46 ./phoenix-check.sh:223:extract_dispatch_actions: sed '/^\s*$/d'
+ 04:54:46 ./phoenix-check.sh:223:extract_dispatch_actions: sort -u
+ 04:54:46 ./phoenix-check.sh:223:extract_dispatch_actions: printf '%s\n' 'src/screens/Wizard/WizardPage.tsx:SET_PAGE_DATA
src/app/hooks/useAppOrchestration.ts:RESET_STATE
src/app/hooks/useAppOrchestration.ts:LOAD_SAVED_STATE
src/app/hooks/useAppOrchestration.ts:SET_SPECIAL_STATUS'
+ 04:54:46 ./phoenix-check.sh:484:audit_wai_001_003: local _decl_count
++ 04:54:46 ./phoenix-check.sh:485:audit_wai_001_003: wc -l
++ 04:54:46 ./phoenix-check.sh:485:audit_wai_001_003: tr -dc 0-9
+ 04:54:46 ./phoenix-check.sh:485:audit_wai_001_003: _decl_count=0
+ 04:54:46 ./phoenix-check.sh:486:audit_wai_001_003: _decl_count=0
+ 04:54:46 ./phoenix-check.sh:489:audit_wai_001_003: [[ 0 -lt 3 ]]
+ 04:54:46 ./phoenix-check.sh:490:audit_wai_001_003: sort -u /tmp/phoenix-audit-1000/declared.actions /tmp/phoenix-audit-1000/used.actions
+ 04:54:46 ./phoenix-check.sh:490:audit_wai_001_003: mv /tmp/phoenix-audit-1000/declared.actions.tmp /tmp/phoenix-audit-1000/declared.actions
++ 04:54:46 ./phoenix-check.sh:491:audit_wai_001_003: wc -l
++ 04:54:46 ./phoenix-check.sh:491:audit_wai_001_003: tr -dc 0-9
+ 04:54:46 ./phoenix-check.sh:491:audit_wai_001_003: _decl_count=4
+ 04:54:46 ./phoenix-check.sh:492:audit_wai_001_003: [[ false == \t\r\u\e ]]
+ 04:54:46 ./phoenix-check.sh:496:audit_wai_001_003: [[ 4 -lt 1 ]]
+ 04:54:46 ./phoenix-check.sh:501:audit_wai_001_003: local _missing_cases=/tmp/phoenix-audit-1000/missing.cases
+ 04:54:46 ./phoenix-check.sh:502:audit_wai_001_003: local _unknown_cases=/tmp/phoenix-audit-1000/unknown.cases
+ 04:54:46 ./phoenix-check.sh:503:audit_wai_001_003: local _undeclared_used=/tmp/phoenix-audit-1000/undeclared.used
+ 04:54:46 ./phoenix-check.sh:504:audit_wai_001_003: local _dead_declared=/tmp/phoenix-audit-1000/dead.declared
+ 04:54:46 ./phoenix-check.sh:506:audit_wai_001_003: comm -23 /tmp/phoenix-audit-1000/declared.actions /tmp/phoenix-audit-1000/cases.actions
+ 04:54:46 ./phoenix-check.sh:507:audit_wai_001_003: comm -13 /tmp/phoenix-audit-1000/declared.actions /tmp/phoenix-audit-1000/cases.actions
+ 04:54:46 ./phoenix-check.sh:508:audit_wai_001_003: comm -13 /tmp/phoenix-audit-1000/declared.actions /tmp/phoenix-audit-1000/used.actions
+ 04:54:46 ./phoenix-check.sh:509:audit_wai_001_003: comm -23 /tmp/phoenix-audit-1000/declared.actions /tmp/phoenix-audit-1000/used.actions
+ 04:54:46 ./phoenix-check.sh:512:audit_wai_001_003: [[ 4 -ge 3 ]]
+ 04:54:47 ./phoenix-check.sh:513:audit_wai_001_003: echo -e '\033[0;32mâœ… Actions (declared \033[1m4\033[0m)'
+ 04:54:47 ./phoenix-check.sh:514:audit_wai_001_003: atomic_inc passed
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=3
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 4
+ 04:54:47 ./phoenix-check.sh:521:audit_wai_001_003: local _pair _label _f _cnt
+ 04:54:47 ./phoenix-check.sh:522:audit_wai_001_003: for _pair in "Missing cases:${_missing_cases}" "Unknown cases:${_unknown_cases}" "Undeclared used:${_undeclared_used}"
+ 04:54:47 ./phoenix-check.sh:523:audit_wai_001_003: _label='Missing cases'
+ 04:54:47 ./phoenix-check.sh:524:audit_wai_001_003: _f=/tmp/phoenix-audit-1000/missing.cases
++ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: wc -l
++ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: tr -dc 0-9
+ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: _cnt=4
+ 04:54:47 ./phoenix-check.sh:527:audit_wai_001_003: [[ 4 -gt 0 ]]
+ 04:54:47 ./phoenix-check.sh:528:audit_wai_001_003: echo -e '\033[0;31mâŒ Actions â€“ Missing cases \033[1m(4)\033[0m'
+ 04:54:47 ./phoenix-check.sh:529:audit_wai_001_003: record_failure 'Actions â€“ Missing cases'
+ 04:54:47 ./phoenix-check.sh:261:record_failure: local '_desc=Actions â€“ Missing cases'
+ 04:54:47 ./phoenix-check.sh:262:record_failure: atomic_inc failed
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=failed
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/failed
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/failed.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/failed ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/failed
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=0
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 1
+ 04:54:47 ./phoenix-check.sh:263:record_failure: echo 'Actions â€“ Missing cases'
+ 04:54:47 ./phoenix-check.sh:530:audit_wai_001_003: [[ false == \t\r\u\e ]]
+ 04:54:47 ./phoenix-check.sh:522:audit_wai_001_003: for _pair in "Missing cases:${_missing_cases}" "Unknown cases:${_unknown_cases}" "Undeclared used:${_undeclared_used}"
+ 04:54:47 ./phoenix-check.sh:523:audit_wai_001_003: _label='Unknown cases'
+ 04:54:47 ./phoenix-check.sh:524:audit_wai_001_003: _f=/tmp/phoenix-audit-1000/unknown.cases
++ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: wc -l
++ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: tr -dc 0-9
+ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: _cnt=0
+ 04:54:47 ./phoenix-check.sh:527:audit_wai_001_003: [[ 0 -gt 0 ]]
+ 04:54:47 ./phoenix-check.sh:532:audit_wai_001_003: echo -e '\033[0;32mâœ… Actions â€“ Unknown cases \033[1m(clean)\033[0m'
+ 04:54:47 ./phoenix-check.sh:533:audit_wai_001_003: atomic_inc passed
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=4
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 5
+ 04:54:47 ./phoenix-check.sh:522:audit_wai_001_003: for _pair in "Missing cases:${_missing_cases}" "Unknown cases:${_unknown_cases}" "Undeclared used:${_undeclared_used}"
+ 04:54:47 ./phoenix-check.sh:523:audit_wai_001_003: _label='Undeclared used'
+ 04:54:47 ./phoenix-check.sh:524:audit_wai_001_003: _f=/tmp/phoenix-audit-1000/undeclared.used
++ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: wc -l
++ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: tr -dc 0-9
+ 04:54:47 ./phoenix-check.sh:525:audit_wai_001_003: _cnt=0
+ 04:54:47 ./phoenix-check.sh:527:audit_wai_001_003: [[ 0 -gt 0 ]]
+ 04:54:47 ./phoenix-check.sh:532:audit_wai_001_003: echo -e '\033[0;32mâœ… Actions â€“ Undeclared used \033[1m(clean)\033[0m'
+ 04:54:47 ./phoenix-check.sh:533:audit_wai_001_003: atomic_inc passed
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=5
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 6
++ 04:54:47 ./phoenix-check.sh:538:audit_wai_001_003: tr -dc 0-9
++ 04:54:47 ./phoenix-check.sh:538:audit_wai_001_003: wc -l
+ 04:54:47 ./phoenix-check.sh:538:audit_wai_001_003: local _dead_cnt=0
+ 04:54:47 ./phoenix-check.sh:539:audit_wai_001_003: [[ 0 -gt 0 ]]
+ 04:54:47 ./phoenix-check.sh:859:main: audit_wai_004
+ 04:54:47 ./phoenix-check.sh:547:audit_wai_004: log_section '2. EURO-GARANTIE (WAI-004)'
+ 04:54:47 ./phoenix-check.sh:88:log_section: echo
+ 04:54:47 ./phoenix-check.sh:88:log_section: echo -e '\033[1m\033[0;34mâ”â”â”â”â”â”â”â”â”â” 2. EURO-GARANTIE (WAI-004) â”â”â”â”â”â”â”â”â”â”\033[0m'
+ 04:54:47 ./phoenix-check.sh:548:audit_wai_004: check_pattern 'Math\.max\(0,' src/utils/numbers.ts 'Non-negative parser' 1 '' parser
+ 04:54:47 ./phoenix-check.sh:268:check_pattern: local '_pat=Math\.max\(0,'
+ 04:54:47 ./phoenix-check.sh:269:check_pattern: local _target=src/utils/numbers.ts
+ 04:54:47 ./phoenix-check.sh:270:check_pattern: local '_desc=Non-negative parser'
+ 04:54:47 ./phoenix-check.sh:271:check_pattern: local _min=1
+ 04:54:47 ./phoenix-check.sh:272:check_pattern: local _exclude=
+ 04:54:47 ./phoenix-check.sh:273:check_pattern: local _id=parser
+ 04:54:47 ./phoenix-check.sh:275:check_pattern: atomic_inc total
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=total
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/total
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/total.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/total ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/total
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=4
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 5
+ 04:54:47 ./phoenix-check.sh:276:check_pattern: log_verbose 'Check: Non-negative parser'
+ 04:54:47 ./phoenix-check.sh:89:log_verbose: [[ false == \t\r\u\e ]]
+ 04:54:47 ./phoenix-check.sh:89:log_verbose: return 0
+ 04:54:47 ./phoenix-check.sh:279:check_pattern: [[ -z src/utils/numbers.ts ]]
+ 04:54:47 ./phoenix-check.sh:283:check_pattern: [[ ! -e src/utils/numbers.ts ]]
+ 04:54:47 ./phoenix-check.sh:289:check_pattern: local _matches=
+ 04:54:47 ./phoenix-check.sh:290:check_pattern: command -v rg
+ 04:54:47 ./phoenix-check.sh:291:check_pattern: [[ -n '' ]]
++ 04:54:47 ./phoenix-check.sh:294:check_pattern: rg -n --type-add 'ts:*.{ts,tsx}' --type ts -e 'Math\.max\(0,' src/utils/numbers.ts
+ 04:54:47 ./phoenix-check.sh:294:check_pattern: _matches='40:  return Math.max(0, Math.round(val * 100));'
+ 04:54:47 ./phoenix-check.sh:306:check_pattern: local _count=0
+ 04:54:47 ./phoenix-check.sh:307:check_pattern: [[ -n 40:  return Math.max(0, Math.round(val * 100)); ]]
++ 04:54:47 ./phoenix-check.sh:307:check_pattern: printf '%s\n' '40:  return Math.max(0, Math.round(val * 100));'
++ 04:54:47 ./phoenix-check.sh:307:check_pattern: grep -c '^'
+ 04:54:47 ./phoenix-check.sh:307:check_pattern: _count=1
+ 04:54:47 ./phoenix-check.sh:310:check_pattern: [[ 1 -ge 1 ]]
+ 04:54:47 ./phoenix-check.sh:311:check_pattern: echo -e '\033[0;32mâœ… Non-negative parser \033[1m(1)\033[0m'
+ 04:54:47 ./phoenix-check.sh:312:check_pattern: atomic_inc passed
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=passed
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/passed.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/passed ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/passed
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=6
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 7
+ 04:54:47 ./phoenix-check.sh:313:check_pattern: [[ false == \t\r\u\e ]]
+ 04:54:47 ./phoenix-check.sh:314:check_pattern: return 0
+ 04:54:47 ./phoenix-check.sh:549:audit_wai_004: check_pattern '\b(computeNetCents|toCents|fromCents)' src/logic/finance.ts Kernel 2 '' kernel
+ 04:54:47 ./phoenix-check.sh:268:check_pattern: local '_pat=\b(computeNetCents|toCents|fromCents)'
+ 04:54:47 ./phoenix-check.sh:269:check_pattern: local _target=src/logic/finance.ts
+ 04:54:47 ./phoenix-check.sh:270:check_pattern: local _desc=Kernel
+ 04:54:47 ./phoenix-check.sh:271:check_pattern: local _min=2
+ 04:54:47 ./phoenix-check.sh:272:check_pattern: local _exclude=
+ 04:54:47 ./phoenix-check.sh:273:check_pattern: local _id=kernel
+ 04:54:47 ./phoenix-check.sh:275:check_pattern: atomic_inc total
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=total
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/total
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/total.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/total ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/total
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=5
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 6
+ 04:54:47 ./phoenix-check.sh:276:check_pattern: log_verbose 'Check: Kernel'
+ 04:54:47 ./phoenix-check.sh:89:log_verbose: [[ false == \t\r\u\e ]]
+ 04:54:47 ./phoenix-check.sh:89:log_verbose: return 0
+ 04:54:47 ./phoenix-check.sh:279:check_pattern: [[ -z src/logic/finance.ts ]]
+ 04:54:47 ./phoenix-check.sh:283:check_pattern: [[ ! -e src/logic/finance.ts ]]
+ 04:54:47 ./phoenix-check.sh:289:check_pattern: local _matches=
+ 04:54:47 ./phoenix-check.sh:290:check_pattern: command -v rg
+ 04:54:47 ./phoenix-check.sh:291:check_pattern: [[ -n '' ]]
++ 04:54:47 ./phoenix-check.sh:294:check_pattern: rg -n --type-add 'ts:*.{ts,tsx}' --type ts -e '\b(computeNetCents|toCents|fromCents)' src/logic/finance.ts
++ 04:54:47 ./phoenix-check.sh:294:check_pattern: true
+ 04:54:47 ./phoenix-check.sh:294:check_pattern: _matches=
+ 04:54:47 ./phoenix-check.sh:306:check_pattern: local _count=0
+ 04:54:47 ./phoenix-check.sh:307:check_pattern: [[ -n '' ]]
+ 04:54:47 ./phoenix-check.sh:310:check_pattern: [[ 0 -ge 2 ]]
+ 04:54:47 ./phoenix-check.sh:316:check_pattern: echo -e '\033[0;31mâŒ Kernel \033[1m(0 < 2)\033[0m'
+ 04:54:47 ./phoenix-check.sh:317:check_pattern: record_failure Kernel
+ 04:54:47 ./phoenix-check.sh:261:record_failure: local _desc=Kernel
+ 04:54:47 ./phoenix-check.sh:262:record_failure: atomic_inc failed
+ 04:54:47 ./phoenix-check.sh:63:atomic_inc: local counter=failed
+ 04:54:47 ./phoenix-check.sh:64:atomic_inc: local file=/tmp/phoenix-audit-1000/failed
+ 04:54:47 ./phoenix-check.sh:65:atomic_inc: local lockfile=/tmp/phoenix-audit-1000/locks/failed.lock
+ 04:54:47 ./phoenix-check.sh:67:atomic_inc: [[ ! -f /tmp/phoenix-audit-1000/failed ]]
+ 04:54:47 ./phoenix-check.sh:70:atomic_inc: command -v flock
++ 04:54:47 ./phoenix-check.sh:78:atomic_inc: cat /tmp/phoenix-audit-1000/failed
+ 04:54:47 ./phoenix-check.sh:78:atomic_inc: local v=1
+ 04:54:47 ./phoenix-check.sh:79:atomic_inc: echo 2
+ 04:54:47 ./phoenix-check.sh:263:record_failure: echo Kernel
+ 04:54:47 ./phoenix-check.sh:318:check_pattern: [[ -n kernel ]]
+ 04:54:47 ./phoenix-check.sh:318:check_pattern: suggest_fix kernel
+ 04:54:47 ./phoenix-check.sh:229:suggest_fix: local id=kernel
+ 04:54:47 ./phoenix-check.sh:230:suggest_fix: case "$id" in
+ 04:54:47 ./phoenix-check.sh:319:check_pattern: return 1
