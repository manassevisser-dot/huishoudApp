=====[src/ui/styles/Colors.ts]=====
// src/styles/Colors.ts
export type Theme = 'light' | 'dark';

export interface ColorScheme {
  background: string;
  surface: string;
  inputBackground: string;
  textPrimary: string;
  textSecondary: string;
  textTertiary: string;
  inverseText: string;
  border: string;
  borderSubtle: string;
  primary: string;
  onPrimary: string;
  secondary: string;
  onSecondary: string;
  error: string;
  onError: string;
  warning: string;
  onWarning: string;
  success: string;
  onSuccess: string;
  selected: string;
  onSelected: string;
  card: string; // ← alias voor surface (backwards compat)
  shadow: string;
}

export const Colors: Record<Theme, ColorScheme> = {
  light: {
    background: '#F2F2F7',
    surface: '#FFFFFF',
    inputBackground: '#FFFFFF',
    textPrimary: '#1C1C1E',
    textSecondary: '#6E6E73',
    textTertiary: '#8E8E93',
    inverseText: '#FFFFFF',
    border: '#D1D1D6',
    borderSubtle: '#F2F2F7',
    primary: '#007AFF',
    onPrimary: '#FFFFFF',
    secondary: '#E5E5EA',
    onSecondary: '#1C1C1E',
    error: '#FF3B30',
    onError: '#FFFFFF',
    warning: '#FF9500',
    onWarning: '#FFFFFF',
    success: '#34C759',
    onSuccess: '#FFFFFF',
    selected: '#007AFF',
    onSelected: '#FFFFFF',
    shadow: '#000000',
    card: '#FFFFFF', // ← zelfde als surface
  },
  dark: {
    background: '#0F172A',
    surface: '#1E293B',
    inputBackground: '#1E293B',
    textPrimary: '#F8FAFC',
    textSecondary: '#94A3B8',
    textTertiary: '#64748B',
    inverseText: '#0F172A',
    border: '#334155',
    borderSubtle: '#1E293B',
    primary: '#38BDF8',
    onPrimary: '#0F172A',
    secondary: '#334155',
    onSecondary: '#F8FAFC',
    error: '#FF453A',
    onError: '#FFFFFF',
    warning: '#FF9F0A',
    onWarning: '#0F172A',
    success: '#30D158',
    onSuccess: '#0F172A',
    selected: '#38BDF8',
    onSelected: '#0F172A',
    shadow: '#000000',
    card: '#1E293B', // ← zelfde als surface
  },
};

=====[src/ui/styles/modules/Alerts.ts]=====
// src/styles/modules/Alerts.ts
import { Tokens, Type } from '../Tokens';
import type { ColorScheme } from '../Colors';

/** Fabriek: alert/warning tekststijlen */
// 6. UPDATE: src/styles/modules/Alerts.ts
// ============================================
// VOEG TOE (oude warning namen):

export function makeAlerts(c: ColorScheme) {
  return {
    alertErrorText: {
      color: c.error,
      fontSize: Type.sm,
      marginTop: Tokens.Space.xs,
      marginLeft: Tokens.Space.xs,
      fontWeight: '600',
    },
    alertWarningText: {
      color: c.warning,
      fontSize: Type.sm,
      marginTop: Tokens.Space.xs,
      marginLeft: Tokens.Space.xs,
    },

    // === OUDE ALIASES ===
    warningTextOrange: {
      color: c.warning,
      fontSize: Type.sm,
      marginTop: Tokens.Space.xs,
      marginLeft: Tokens.Space.xs,
    },
    warningTextRed: {
      color: c.error,
      fontSize: Type.sm,
      marginTop: Tokens.Space.xs,
      marginLeft: Tokens.Space.xs,
      fontWeight: '600',
    },
  } as const;
}

=====[src/ui/styles/modules/Buttons.ts]=====
// src/styles/modules/Buttons.ts
// CU-008.3: Interactie (Buttons) — semantische kleuren + Platform-select voor schaduw
import { Platform } from 'react-native';
import { Space, Type, Radius, Tokens } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: knop-stijlen (primary/secondary), states incl. shadow/elevation
 * Functie < 20 regels
 */
export function makeButtons(c: ColorScheme) {
  const sh = Tokens.Shadows.level2;
  const shadow = Platform.select({
    ios: {
      shadowColor: c.shadow,
      shadowOffset: { width: 0, height: sh.ios.y },
      shadowOpacity: sh.ios.opacity,
      shadowRadius: sh.ios.radius,
    },
    android: { elevation: sh.android.elevation },
    default: {},
  });
  return {
    // === FIXED FOOTER (OUDE buttonContainer) ===
    buttonContainer: {
      position: 'absolute',
      bottom: 0,
      left: 0,
      right: 0,
      flexDirection: 'row',
      justifyContent: 'space-between',
      padding: Space.xl,
      backgroundColor: c.background,
      borderTopWidth: 1,
      borderTopColor: c.border,
    },

    button: {
      flex: 1,
      backgroundColor: c.primary,
      padding: Space.lg,
      borderRadius: Radius.lg,
      alignItems: 'center',
      marginLeft: Space.md,
      ...shadow,
    },
    buttonText: {
      color: c.onPrimary,
      fontSize: Type.lg,
      fontWeight: '700',
    },

    secondaryButton: {
      backgroundColor: c.secondary,
      marginLeft: 0,
      marginRight: Space.md,
    },
    secondaryButtonText: {
      color: c.onSecondary,
      fontSize: Type.lg,
      fontWeight: '600',
    },

    buttonRow: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      padding: Space.xl,
      backgroundColor: c.background,
      borderTopWidth: 1,
      borderTopColor: c.border,
    },

    primary: {
      flex: 1,
      backgroundColor: c.primary,
      padding: Space.lg,
      borderRadius: Radius.lg,
      alignItems: 'center',
      marginLeft: Space.md,
      ...shadow,
    },
    primaryText: { color: c.onPrimary, fontSize: Type.lg, fontWeight: '700' },

    secondary: {
      flex: 1,
      backgroundColor: c.secondary,
      padding: Space.lg,
      borderRadius: Radius.lg,
      alignItems: 'center',
      marginRight: Space.md,
    },
    deleteButton: {
      backgroundColor: c.error,
      secondaryText: { color: c.onSecondary, fontSize: Type.lg, fontWeight: '600' },
    },
    // buttonGroup (chips/segmented variant kan elders)
    buttonGroup: { flexDirection: 'row', marginTop: Space.sm },
    buttonActive: { backgroundColor: c.primary },
    buttonTextActive: { color: c.onPrimary, fontWeight: '700' },
  } as const;
}

export type ButtonStyles = ReturnType<typeof makeButtons>;

=====[src/ui/styles/modules/Cards.ts]=====
// src/styles/modules/Cards.ts
// CU-008.4: Data Visualisatie (Cards) — gebruikt surface, border, Shadows; geen hardcoded hex
import { Platform } from 'react-native';
import { Space, Radius } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: kaart-/sectiestijlen voor datavisualisatie
 * Functie < 20 regels
 */
// 7. UPDATE: src/styles/modules/Cards.ts
// ============================================
// HERSTEL naar EXACTE oude shadow waarden:

export function makeCards(c: ColorScheme) {
  // OUDE waarden: shadowOffset y: 2, opacity: 0.1, radius: 4, elevation: 3
  const shadow = Platform.select({
    ios: {
      shadowColor: c.shadow,
      shadowOffset: { width: 0, height: 2 }, // was: sh.ios.y
      shadowOpacity: 0.1, // was: sh.ios.opacity
      shadowRadius: 4, // was: sh.ios.radius
    },
    android: { elevation: 3 }, // was: sh.android.elevation
    default: {},
  });

  return {
    card: {
      backgroundColor: c.surface,
      borderRadius: 12,
      padding: Space.lg,
      marginBottom: Space.md,
      ...shadow,
    },
    cardSwipe: {
      marginBottom: Space.md,
      paddingBottom: 22,
      position: 'relative',
    },
    section: { marginBottom: Space.xl },
    sectionTitle: {
      fontSize: 18,
      fontWeight: '700',
      marginBottom: Space.md,
      color: c.textPrimary,
    },
    summarySection: {
      backgroundColor: c.surface,
      padding: Space.xl,
      borderRadius: Radius.xl,
      marginBottom: Space.xl,
    },
    summaryRow: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      paddingVertical: Space.sm,
      borderBottomWidth: 1,
      borderBottomColor: c.borderSubtle,
    },
    summaryRowTotal: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      paddingVertical: Space.sm,
      borderBottomWidth: 0,
      paddingTop: Space.md,
      marginTop: Space.sm,
      borderTopWidth: 2,
      borderTopColor: c.border,
    },
  } as const;
}

=====[src/ui/styles/modules/Checkboxes.ts]=====
// 2. src/styles/modules/Checkboxes.ts
// ============================================
import { Sizes } from '../Tokens';
import type { ColorScheme } from '../Colors';

export function makeCheckboxes(c: ColorScheme) {
  return {
    checkbox: {
      width: Sizes.checkbox,
      height: Sizes.checkbox,
      borderRadius: 4,
      borderWidth: 2,
      borderColor: c.border,
      backgroundColor: c.surface,
    },
    checkboxSelected: {
      borderColor: c.primary,
      backgroundColor: c.primary,
    },
  } as const;
}

export type CheckboxStyles = ReturnType<typeof makeCheckboxes>;

=====[src/ui/styles/modules/Chips.ts]=====
// src/styles/modules/Chips.ts
// CU-008.4: Data Visualisatie (Chips) — gebruikt secondary/selected + onSelected, geen hardcoded hex
import { Space, Type, Radius } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: chips/tags inclusief selected- en error-states
 * Functie < 20 regels
 */
export function makeChips(c: ColorScheme) {
  return {
    chipContainer: { flexDirection: 'row', paddingVertical: Space.xs },
    chip: {
      backgroundColor: c.secondary,
      paddingVertical: Space.sm,
      paddingHorizontal: Space.lg,
      borderRadius: Radius.pill,
      marginRight: Space.md,
      borderWidth: 1,
      borderColor: c.border,
    },
    chipSelected: { backgroundColor: c.selected, borderColor: c.selected },
    chipError: { borderColor: c.error, borderWidth: 2 },
    chipText: { fontSize: Type.md, color: c.textPrimary, fontWeight: '500' },
    chipTextSelected: { color: c.onSelected, fontWeight: '600' },

    gridContainer: { flexDirection: 'row', flexWrap: 'wrap', marginHorizontal: -5 },
    gridItem: {
      width: '30%',
      flexGrow: 1,
      backgroundColor: c.surface,
      paddingVertical: Space.lg,
      paddingHorizontal: Space.sm,
      margin: 5,
      borderRadius: Radius.lg,
      alignItems: 'center',
      justifyContent: 'center',
      borderWidth: 1,
      borderColor: c.border,
    },
    gridItemSelected: { backgroundColor: c.selected, borderColor: c.selected },
    gridItemText: { fontSize: 14, fontWeight: '600', color: c.textPrimary, textAlign: 'center' },
    gridItemTextSelected: { color: c.onSelected },
  } as const;
}

export type ChipStyles = ReturnType<typeof makeChips>;

=====[src/ui/styles/modules/Dashboard.ts]=====
// src/styles/modules/Dashboard.ts
// CU-008.5: Informatie (Dashboard) — KPI blocks, labels/message; semantisch en tokens-based
import { Platform } from 'react-native';
import { Space, Type, Radius, Tokens } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: dashboard-kaarten voor KPI's en korte berichten
 * Functie < 20 regels
 */
export function makeDashboard(c: ColorScheme) {
  const sh = Tokens.Shadows.level3;
  const shadow = Platform.select({
    ios: {
      shadowColor: c.shadow,
      shadowOffset: { width: 0, height: sh.ios.y },
      shadowOpacity: sh.ios.opacity,
      shadowRadius: sh.ios.radius,
    },
    android: { elevation: sh.android.elevation },
    default: {},
  });
  return {
    dashboardCard: {
      backgroundColor: c.surface,
      padding: Space.xl,
      borderRadius: Radius.xl,
      marginBottom: Space.xl,
      ...shadow,
    },
    dashboardLabel: { fontSize: Type.md, color: c.textSecondary, marginBottom: Space.sm },
    dashboardKPI: { fontSize: 48, fontWeight: '700', marginBottom: Space.md, color: c.textPrimary },
    dashboardMessage: { fontSize: Type.md, color: c.textPrimary, lineHeight: 24 },
  } as const;
}

export type DashboardStyles = ReturnType<typeof makeDashboard>;

=====[src/ui/styles/modules/Forms.ts]=====
// src/styles/modules/Forms.ts
// CU-008.3: Interactie (Forms) — semantische kleuren + Tokens, geen hardcoded hex
import { ViewStyle, TextStyle } from 'react-native';
import { Space, Type, Radius } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: form-velden (labels, inputs, numeric/money), foutmeldingen
 * Functie < 20 regels
 */
export function makeForms(c: ColorScheme) {
  return {
    // === OUDE ALIASES (voor backwards compatibility) ===
    label: {
      fontSize: Type.lg,
      fontWeight: '600',
      color: c.textPrimary,
      marginBottom: Space.sm,
    },
    labelError: { color: c.error },
    errorTextStyle: {
      color: c.error,
      marginTop: Space.xs,
      fontSize: Type.sm,
    },

    // === NIEUWE NAMEN (behouden) ===
    fieldContainer: { marginBottom: Space.lg },
    fieldLabel: {
      fontSize: Type.lg,
      fontWeight: '600',
      color: c.textPrimary,
      marginBottom: Space.sm,
    },
    fieldLabelError: { color: c.error },

    input: {
      backgroundColor: c.inputBackground,
      borderRadius: Radius.lg,
      padding: 14,
      fontSize: Type.lg,
      color: c.textPrimary,
      borderWidth: 1,
      borderColor: c.border,
    },
    inputError: { borderColor: c.error, borderWidth: 2 },
    errorText: {
      color: c.error,
      marginTop: Space.xs,
      fontSize: Type.sm,
    },

    // === NUMERIC & MONEY ===
    numericWrapper: {
      flexDirection: 'row',
      alignItems: 'center',
      backgroundColor: c.inputBackground,
      borderRadius: Radius.lg,
      borderWidth: 1,
      borderColor: c.border,
      paddingHorizontal: 14,
    },
    currencyPrefix: {
      fontSize: Type.lg,
      color: c.textTertiary,
      marginRight: Space.xs,
    },
    numericInput: {
      flex: 1,
      paddingVertical: 14,
      fontSize: Type.lg,
      color: c.textPrimary,
    },

    // Money row (nieuwe naam)
    moneyRow: {
      flexDirection: 'row',
      alignItems: 'center',
      borderWidth: 1,
      borderColor: c.border,
      borderRadius: Radius.md,
      paddingHorizontal: Space.md,
      backgroundColor: c.inputBackground,
      height: 48,
    },
    moneyPrefix: {
      fontSize: Type.md,
      fontWeight: '600',
      color: c.textSecondary,
      marginRight: Space.xs,
    },
    moneyTextInput: {
      flex: 1,
      height: '100%',
      fontSize: Type.md,
      color: c.textPrimary,
      paddingVertical: 0,
    },

    // Legacy alias (oude naam)
    inputMoneyRow: {
      flexDirection: 'row',
      alignItems: 'center',
      borderWidth: 1,
      borderColor: c.border,
      borderRadius: 8,
      paddingHorizontal: Space.md,
      backgroundColor: c.inputBackground,
      height: 48,
    },

    helperText: {
      fontSize: Type.xs,
      color: c.textSecondary,
      marginTop: Space.xs,
    },
    moneyInputWrapper: {
      flexDirection: 'row',
      alignItems: 'center',
      borderWidth: 1,
      borderColor: c.border,
      borderRadius: 8,
      paddingHorizontal: Space.md,
      backgroundColor: c.inputBackground,
      height: 48,
    } as ViewStyle,

    currencySymbol: {
      fontSize: Type.lg,
      color: c.textSecondary,
      marginRight: Space.sm,
    } as TextStyle,

    textInput: { flex: 1, height: 48, fontSize: Type.md, color: c.textPrimary } as TextStyle,
  } as const;
}

export type FormStyles = ReturnType<typeof makeForms>;

=====[src/ui/styles/modules/Header.ts]=====
// src/styles/modules/Header.ts
// CU-008.2: Headers (atomaire module) — Tokens + Platform-select schaduwmapping
import { Platform } from 'react-native';
import { Space, Type, Tokens } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: header- en navigatiestijlen als plain object
 * \nFunctie < 20 regels
 */
export function makeHeader(c: ColorScheme) {
  const sh = Tokens.Shadows.level1;
  const shadowStyle = Platform.select({
    ios: {
      shadowColor: c.shadow,
      shadowOffset: { width: 0, height: sh.ios.y },
      shadowOpacity: sh.ios.opacity,
      shadowRadius: sh.ios.radius,
    },
    android: { elevation: sh.android.elevation },
    default: {},
  });
  return {
    headerBar: {
      flexDirection: 'row',
      alignItems: 'center',
      justifyContent: 'space-between',
      paddingHorizontal: Space.lg,
      paddingVertical: Space.sm,
      borderBottomWidth: 1,
      borderBottomColor: c.border,
      backgroundColor: c.background,
      ...shadowStyle,
    },
    headerTitle: { fontSize: Type.lg, fontWeight: '600', color: c.textPrimary },
    headerButton: { padding: Space.sm },
    headerButtonText: { fontSize: Type.lg, color: c.primary },
  } as const;
}

export type HeaderStyles = ReturnType<typeof makeHeader>;

=====[src/ui/styles/modules/Helpers.ts]=====
// 3. src/styles/modules/Helpers.ts
// ============================================
import { Space, Type } from '../Tokens';
import type { ColorScheme } from '../Colors';

export function makeHelpers(c: ColorScheme) {
  return {
    // Navigation hints
    navigationHint: {
      fontSize: Type.sm,
      color: c.textTertiary,
      textAlign: 'right',
      marginTop: Space.md,
      marginRight: Space.sm,
      fontStyle: 'italic',
    },

    // Overlay positioning
    hintOverlayBottomRight: {
      position: 'absolute',
      bottom: 6,
      right: 12,
    },

    // Card badge (linksboven met nummering)
    cardBadge: {
      position: 'absolute',
      top: 8,
      left: 12,
      backgroundColor: '#00000033',
      color: '#fff',
      paddingHorizontal: Space.sm,
      paddingVertical: 2,
      borderRadius: 12,
      fontSize: Type.xs,
      overflow: 'hidden',
    },

    // Helper text
    helperText: {
      fontSize: Type.xs,
      color: c.textSecondary,
      marginTop: Space.xs,
    },

    // Debug
    debugBox: {
      backgroundColor: c.secondary,
      padding: Space.sm,
      borderRadius: 6,
      marginTop: Space.md,
    },
    debugText: {
      fontSize: Type.xs,
      color: c.textSecondary,
    },
  } as const;
}

export type HelperStyles = ReturnType<typeof makeHelpers>;

=====[src/ui/styles/modules/index.ts]=====
// src/styles/modules/index.ts
export * from './Layout';
export * from './Header';
export * from './Forms';
export * from './Buttons';
export * from './Cards';
export * from './Chips';
export * from './Dashboard';
export * from './Summary';
export * from './Typography';
export * from './Alerts';
export * from './Toggles'; // ← NIEUW
export * from './Checkboxes'; // ← NIEUW
export * from './Helpers'; // ← NIEUW

=====[src/ui/styles/modules/Layout.ts]=====
// src/styles/modules/Layout.ts
// CU-008.2: Layout (atomaire module) — gebruikt alleen Tokens & Colors, geen hardcoded hex
import { Space } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: levert layout-stijlen als plain object (orchestrator doet StyleSheet.create)
 * \nFunctie < 20 regels
 */
export function makeLayout(c: ColorScheme) {
  return {
    container: { flex: 1, backgroundColor: c.background },
    pageContainer: { flex: 1, paddingTop: Space.sm },
    scrollContent: { paddingBottom: 120, paddingHorizontal: Space.xl },
    inputContainer: { marginBottom: Space.md, width: '100%' },
    content: { padding: Space.lg },
    section: { marginTop: Space.xl },
  } as const;
}

export type LayoutStyles = ReturnType<typeof makeLayout>;

=====[src/ui/styles/modules/Summary.ts]=====
// src/styles/modules/Summary.ts
// CU-008.5: Informatie (Summary) — tabellen/overzicht; GEEN HHS5-specifieke code
import { Space, Type, Radius } from '@styles/Tokens';
import type { ColorScheme } from '@styles/Colors';

/**
 * Fabriek: samenvattingsoverzicht (rijen, totalen, labels/values)
 * Functie < 20 regels
 */
export function makeSummary(c: ColorScheme) {
  return {
    summarySection: {
      backgroundColor: c.surface,
      padding: Space.xl,
      borderRadius: Radius.xl,
      marginBottom: Space.xl,
    },
    summaryRow: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      paddingVertical: Space.sm,
      borderBottomWidth: 1,
      borderBottomColor: c.borderSubtle,
    },
    summaryRowTotal: {
      flexDirection: 'row',
      justifyContent: 'space-between',
      paddingVertical: Space.sm,
      borderBottomWidth: 0,
      paddingTop: Space.md,
      marginTop: Space.sm,
      borderTopWidth: 2,
      borderTopColor: c.border,
    },
    summaryLabel: { fontSize: Type.md, color: c.textSecondary },
    summaryLabelBold: { fontSize: Type.md, fontWeight: '700', color: c.textPrimary },
    summaryValue: { fontSize: Type.md, fontWeight: '600', color: c.textPrimary },
    summaryValueBold: { fontSize: 18, fontWeight: '700', color: c.textPrimary },
    summaryDetail: { fontSize: Type.sm, color: c.textSecondary, marginBottom: Space.xl },
  } as const;
}

export type SummaryStyles = ReturnType<typeof makeSummary>;
``;

=====[src/ui/styles/modules/Toggles.ts]=====
// 1. src/styles/modules/Toggles.ts
// ============================================
import { Space, Type } from '../Tokens';
import type { ColorScheme } from '../Colors';

export function makeToggles(c: ColorScheme) {
  return {
    toggleWrapper: {
      flexDirection: 'row',
      justifyContent: 'flex-start',
    },
    toggleButton: {
      paddingHorizontal: Space.xl,
      paddingVertical: Space.sm,
      borderRadius: 8,
      minWidth: 80,
      alignItems: 'center',
    },
    toggleActive: { backgroundColor: c.success },
    toggleInactive: { backgroundColor: c.secondary },
    toggleText: { fontSize: Type.lg, fontWeight: '600', color: c.onSuccess },
  } as const;
}

export type ToggleStyles = ReturnType<typeof makeToggles>;

=====[src/ui/styles/modules/Typography.ts]=====
// src/styles/modules/Typography.ts
import { Tokens, Type } from '../Tokens';
import type { ColorScheme } from '../Colors';

/** Fabriek: typografiestijlen (pagina-headers etc.) */
export function makeTypography(c: ColorScheme) {
  return {
    pageTitle: {
      fontSize: Type.h2,
      fontWeight: '700',
      marginBottom: Tokens.Space.xl,
      color: c.textPrimary,
    },
    title: {
      fontSize: Type.lg,
      fontWeight: '600',
      color: c.textPrimary,
    },
    subtitle: {
      fontSize: Type.md,
      fontWeight: '500',
      color: c.textPrimary,
      marginBottom: Tokens.Space.sm,
    },
    emptyText: {
      color: c.textSecondary,
      fontStyle: 'italic',
    },
    description: {
      fontWeight: '500',
      color: c.textPrimary,
    },
    details: {
      fontSize: Type.sm,
      color: c.textTertiary,
    },
    error: {
      color: c.error,
      marginBottom: Tokens.Space.sm,
    },
  } as const;
}
export type TypographyStyles = ReturnType<typeof makeTypography>;

=====[src/ui/styles/__tests__/useAppStyles.test.ts]=====
import { getAppStyles } from '../useAppStyles';

jest.mock('react-native', () => ({
  StyleSheet: { create: (obj: any) => obj },
  Platform: { select: (objs: any) => objs.ios || objs.default },
}));

describe('Style System Integrity', () => {
  it('should generate styles for light mode without crashing', () => {
    const styles = getAppStyles('light');
    expect(styles).toBeDefined();
    expect(Object.keys(styles).length).toBeGreaterThan(0);
  });

  it('should generate styles for dark mode', () => {
    const styles = getAppStyles('dark');
    expect(styles).toBeDefined();
    expect(Object.keys(styles).length).toBeGreaterThan(0);
  });
});

=====[src/ui/styles/Tokens.ts]=====
// src/ui/styles/tokens.ts
export const Space = { xs: 4, sm: 8, md: 12, lg: 16, xl: 20, xxl: 24 } as const;
export const Type = { xs: 12, sm: 14, md: 16, lg: 17, xl: 18, h2: 28, kpi: 48 } as const;
export const Radius = {
  xs: 4,
  sm: 6,
  md: 8,
  lg: 10,
  xl: 12,
  round: 20,
  circle: 999,
  pill: 20,
} as const;
export const Sizes = { inputHeight: 48, checkbox: 24, toggleWidth: 80 } as const;

// Definieer eerst losse shadows (sm/md/lg), maak daarna alias level1/2/3
const shadowSm = { ios: { y: 1, radius: 2, opacity: 0.05 }, android: { elevation: 2 } };
const shadowMd = { ios: { y: 2, radius: 4, opacity: 0.1 }, android: { elevation: 3 } };
const shadowLg = { ios: { y: 2, radius: 8, opacity: 0.1 }, android: { elevation: 4 } };

export const Shadows = {
  // primaire naamgeving
  sm: shadowSm,
  md: shadowMd,
  lg: shadowLg,
  // aliassen voor backwards-compat
  level1: shadowSm,
  level2: shadowMd,
  level3: shadowLg,
} as const;

export const Tokens = { Space, Type, Radius, Sizes, Shadows } as const;
export type TokensType = typeof Tokens;

=====[src/ui/styles/useAppStyles.ts]=====
// src/styles/useAppStyles.ts
// CU-008.6: De Orchestrator (Main Factory)
import { StyleSheet } from 'react-native';
import { useTheme } from '@app/context/ThemeContext';
import { Colors, Theme } from '@styles/Colors';
import { Tokens } from '@styles/Tokens';
import {
  makeLayout,
  makeHeader,
  makeForms,
  makeButtons,
  makeCards,
  makeChips,
  makeDashboard,
  makeSummary,
  makeTypography,
  makeAlerts,
  makeToggles, // ← NIEUW
  makeCheckboxes, // ← NIEUW
  makeHelpers, // ← NIEUW
} from '@styles/modules';

const styleCache: Partial<Record<Theme, ReturnType<typeof StyleSheet.create>>> = {};

export function getAppStyles(theme: Theme) {
  if (styleCache[theme]) return styleCache[theme]!;
  const c = Colors[theme];

  const assembled = {
    ...makeLayout(c), // Layout
    ...makeHeader(c), // Header
    ...makeForms(c), // Forms
    ...makeButtons(c), // Buttons
    ...makeCards(c), // Cards
    ...makeChips(c), // Chips
    ...makeDashboard(c), // Dashboard
    ...makeSummary(c), // Summary
    ...makeTypography(c), // Typography
    ...makeAlerts(c), // Alerts
    ...makeToggles(c), // ←Toggles NIEUW
    ...makeCheckboxes(c), // ← Checkboxes NIEUW
    ...makeHelpers(c), // ← Helpers NIEUW
  } as const;

  const styles = StyleSheet.create(assembled);
  styleCache[theme] = styles;
  return styles;
}

export type AppStyles = ReturnType<typeof getAppStyles>;

export function useAppStyles() {
  const { theme } = useTheme();
  const styles = getAppStyles(theme);
  const colors = Colors[theme];
  return { styles, colors, Tokens };
}

