{
  "Producing_Role": "CEO Manasse",
  "Artifact_ID": "SVZ-0-todo-001",
  "Status": "PENDING",
  "Token_ID": "TOKEN-ID-MANASSE-SVZ0-1A61EF87",
  "Runtime_Environment": "NODE_TERMINAL",
  "SHA256_Hash": "1a61ef87ebcc1cccf183e04efda86a58bcf5d3b1beea97853e889a5af9a91d40",
  "Source_Commit": "MANUAL_CLI_INPUT",
  "PII_Attestation": "NEE - CLEAN",
  "File_Name": "todo.txt",
  "Raw_Content": "tree src \\  -a \\  -I \"node_modules|__tests__|__mocks__|dist|build|coverage\" \\  --dirsfirst\r\nsrc\r\nâ”œâ”€â”€ adapters\r\nâ”‚Â Â  â”œâ”€â”€ audit\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ AuditLoggerAdapter.ts\r\nâ”‚Â Â  â”œâ”€â”€ csv\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ csvService.ts\r\nâ”‚Â Â  â”œâ”€â”€ storage\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ storage.ts\r\nâ”‚Â Â  â”œâ”€â”€ transaction\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ stateful.ts\r\nâ”‚Â Â  â””â”€â”€ undo\r\nâ”‚Â Â      â”œâ”€â”€ .reconstruct_placeholder\r\nâ”‚Â Â      â””â”€â”€ stateful.ts\r\nâ”œâ”€â”€ app\r\nâ”‚Â Â  â”œâ”€â”€ context\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ __test__\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ formReducer.test.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ FormContext.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ formReducer.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ ThemeContext.tsx\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ WizardContext.tsx\r\nâ”‚Â Â  â”œâ”€â”€ hooks\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ useAppOrchestration.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ useTransactionHistory.ts\r\nâ”‚Â Â  â””â”€â”€ orchestrators\r\nâ”‚Â Â      â”œâ”€â”€ export.ts\r\nâ”‚Â Â      â”œâ”€â”€ .reconstruct_placeholder\r\nâ”‚Â Â      â””â”€â”€ transactionOrchestrator.ts\r\nâ”œâ”€â”€ config\r\nâ”‚Â Â  â”œâ”€â”€ features.ts\r\nâ”‚Â Â  â””â”€â”€ WizStrings.ts\r\nâ”œâ”€â”€ containers\r\nâ”‚Â Â  â””â”€â”€ AdultsCounter.tsx\r\nâ”œâ”€â”€ core\r\nâ”‚Â Â  â”œâ”€â”€ logic\r\nâ”‚Â Â  â”œâ”€â”€ state\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ slices\r\nâ”‚Â Â  â””â”€â”€ types\r\nâ”‚Â Â      â”œâ”€â”€ core.ts\r\nâ”‚Â Â      â”œâ”€â”€ expenses.ts\r\nâ”‚Â Â      â”œâ”€â”€ extendedFormState.ts\r\nâ”‚Â Â      â”œâ”€â”€ fields.ts\r\nâ”‚Â Â      â”œâ”€â”€ finance.ts\r\nâ”‚Â Â      â”œâ”€â”€ form.ts\r\nâ”‚Â Â      â”œâ”€â”€ income.ts\r\nâ”‚Â Â      â”œâ”€â”€ transaction.ts\r\nâ”‚Â Â      â””â”€â”€ wizard.ts\r\nâ”œâ”€â”€ domain\r\nâ”‚Â Â  â”œâ”€â”€ constants\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ datakeys.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ labels.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ registry.ts\r\nâ”‚Â Â  â”œâ”€â”€ helpers\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ frequency.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ numbers.ts\r\nâ”‚Â Â  â”œâ”€â”€ rules\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ evaluateDomainRules.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ financeRules.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ householdRules.ts\r\nâ”‚Â Â  â”œâ”€â”€ types\r\nâ”‚Â Â  â”œâ”€â”€ validation\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ fieldValidator.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ runtimeParser.ts\r\nâ”‚Â Â  â”œâ”€â”€ household.ts\r\nâ”‚Â Â  â””â”€â”€ types.ts\r\nâ”œâ”€â”€ kernel\r\nâ”‚Â Â  â””â”€â”€ finance\r\nâ”‚Â Â      â”œâ”€â”€ index.ts\r\nâ”‚Â Â      â”œâ”€â”€ mappers.ts\r\nâ”‚Â Â      â””â”€â”€ .reconstruct_placeholder\r\nâ”œâ”€â”€ navigation\r\nâ”‚Â Â  â””â”€â”€ Navigator.tsx\r\nâ”œâ”€â”€ services\r\nâ”‚Â Â  â”œâ”€â”€ dataOrchestrator.ts\r\nâ”‚Â Â  â”œâ”€â”€ dataProcessor.ts\r\nâ”‚Â Â  â”œâ”€â”€ householdAlign.ts\r\nâ”‚Â Â  â”œâ”€â”€ migrationService.ts\r\nâ”‚Â Â  â”œâ”€â”€ privacyHelpers.ts\r\nâ”‚Â Â  â”œâ”€â”€ storageShim.ts\r\nâ”‚Â Â  â””â”€â”€ transactionService.ts\r\nâ”œâ”€â”€ shared\r\nâ”‚Â Â  â”œâ”€â”€ components\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ ui\r\nâ”‚Â Â  â”œâ”€â”€ types\r\nâ”‚Â Â  â””â”€â”€ utils\r\nâ”œâ”€â”€ shared-types\r\nâ”œâ”€â”€ state\r\nâ”‚Â Â  â””â”€â”€ schemas\r\nâ”‚Â Â      â””â”€â”€ FormStateSchema.ts\r\nâ”œâ”€â”€ test-utils\r\nâ”‚Â Â  â”œâ”€â”€ assertions\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ migrationAssertions.ts\r\nâ”‚Â Â  â”œâ”€â”€ factories\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ csvFactory.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ memberFactory.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ stateFactory.ts\r\nâ”‚Â Â  â”œâ”€â”€ perf\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ measure.ts\r\nâ”‚Â Â  â”œâ”€â”€ render\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ providers.tsx\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ renderers.tsx\r\nâ”‚Â Â  â”œâ”€â”€ utils\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ name.ts\r\nâ”‚Â Â  â”œâ”€â”€ index.ts\r\nâ”‚Â Â  â””â”€â”€ jest.setup.tsx\r\nâ”œâ”€â”€ ui\r\nâ”‚Â Â  â”œâ”€â”€ components\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ fields\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ChipButton.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ ConditionalField.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ DateField.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ FormField.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ index.ts\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ InputCounter.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MoneyField.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â”œâ”€â”€ MoneyInput.tsx\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ToggleSwitch.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ FieldRenderer.tsx\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ FinancialSummary.tsx\r\nâ”‚Â Â  â”œâ”€â”€ navigation\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ MainNavigator.tsx\r\nâ”‚Â Â  â”œâ”€â”€ screens\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ CSV\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ CsvUploadScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ Daily\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ UndoScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ DailyInput\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ DailyInputScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ Dashboard\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ DashboardScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ Options\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ OptionsScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ Reset\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ ResetScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ Settings\r\nâ”‚Â Â  â”‚Â Â  â”‚Â Â  â””â”€â”€ SettingsScreen.tsx\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ Wizard\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ pages\r\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ 1setupHousehold.config.ts\r\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ 2detailsHousehold.config.ts\r\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ 3incomeDetails.config.ts\r\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â””â”€â”€ 4fixedExpenses.config.ts\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ CriticalErrorScreen.tsx\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ LandingScreen.tsx\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ SplashScreen.tsx\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ WelcomeWizard.tsx\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ WizardController.tsx\r\nâ”‚Â Â  â”‚Â Â      â””â”€â”€ WizardPage.tsx\r\nâ”‚Â Â  â”œâ”€â”€ selectors\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ financialSelectors.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ householdSelectors.ts\r\nâ”‚Â Â  â””â”€â”€ styles\r\nâ”‚Â Â      â”œâ”€â”€ modules\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Alerts.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Buttons.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Cards.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Checkboxes.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Chips.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Dashboard.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Forms.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Header.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Helpers.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ index.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Layout.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Summary.ts\r\nâ”‚Â Â      â”‚Â Â  â”œâ”€â”€ Toggles.ts\r\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ Typography.ts\r\nâ”‚Â Â      â”œâ”€â”€ Colors.ts\r\nâ”‚Â Â      â”œâ”€â”€ Tokens.ts\r\nâ”‚Â Â      â””â”€â”€ useAppStyles.ts\r\nâ”œâ”€â”€ utils\r\nâ”‚Â Â  â”œâ”€â”€ audit\r\nâ”‚Â Â  â”œâ”€â”€ conditions.ts\r\nâ”‚Â Â  â”œâ”€â”€ csvHelper.ts\r\nâ”‚Â Â  â”œâ”€â”€ date.ts\r\nâ”‚Â Â  â”œâ”€â”€ fieldVisibility.ts\r\nâ”‚Â Â  â”œâ”€â”€ index.ts\r\nâ”‚Â Â  â”œâ”€â”€ objects.ts\r\nâ”‚Â Â  â”œâ”€â”€ ping.ts\r\nâ”‚Â Â  â””â”€â”€ strings.ts\r\nâ””â”€â”€ App.tsx\r\n\r\n62 directories, 119 files\r\n====\r\nGEWENST:\r\n\r\nsrc/\r\nâ”œâ”€â”€ domain/\r\nâ”‚   â”œâ”€â”€ validation/\r\nâ”‚   â”‚   â”œâ”€â”€ fieldValidator.ts                  # (bestond al als migratie van utils/validation.ts)\r\nâ”‚   â”‚   â””â”€â”€ schemas/\r\nâ”‚   â”‚       â””â”€â”€ FormStateSchema.ts             # â† src/state/schemas/FormStateSchema.ts\r\nâ”‚   â”œâ”€â”€ types/\r\nâ”‚   â”‚   â”œâ”€â”€ core.ts                            # âœ… migreert\r\nâ”‚   â”‚   â”œâ”€â”€ form.ts                            # âœ… migreert\r\nâ”‚   â”‚   â”œâ”€â”€ fields.ts                          # âœ… migreert\r\nâ”‚   â”‚   â”œâ”€â”€ finance.ts                         # âœ… migreert\r\nâ”‚   â”‚   â”œâ”€â”€ extendedFormState.ts               # âœ… migreert\r\nâ”‚   â”‚   â”œâ”€â”€ expenses.ts                        # âŒ nu opgenomen\r\nâ”‚   â”‚   â”œâ”€â”€ income.ts                          # âŒ nu opgenomen\r\nâ”‚   â”‚   â”œâ”€â”€ transaction.ts                     # âŒ nu opgenomen\r\nâ”‚   â”‚   â””â”€â”€ wizard.ts                          # âŒ nu opgenomen\r\nâ”‚   â””â”€â”€ helpers/\r\nâ”‚       â”œâ”€â”€ fieldVisibility.ts                 # â† utils/fieldVisibility.ts\r\nâ”‚       â”œâ”€â”€ frequency.ts                       # â† utils/frequency.ts\r\nâ”‚       â”œâ”€â”€ numbers.ts                         # â† utils/numbers.ts\r\nâ”‚       â”œâ”€â”€ objects.ts                         # â† utils/objects.ts\r\nâ”‚       â”œâ”€â”€ strings.ts                         # â† utils/strings.ts\r\nâ”‚       â””â”€â”€ date.ts                            # â† utils/date.ts\r\nâ”‚\r\nâ”œâ”€â”€ application/                                # (nieuw) use-cases & orchestration\r\nâ”‚   â”œâ”€â”€ orchestrators/\r\nâ”‚   â”‚   â””â”€â”€ dataOrchestrator.ts                # â† services/dataOrchestrator.ts (ongewijzigde API)\r\nâ”‚   â”œâ”€â”€ processors/\r\nâ”‚   â”‚   â””â”€â”€ dataProcessor.ts                   # â† services/dataProcessor.ts\r\nâ”‚   â”œâ”€â”€ household/\r\nâ”‚   â”‚   â””â”€â”€ householdAlign.ts                  # â† services/householdAlign.ts\r\nâ”‚   â”œâ”€â”€ transactions/\r\nâ”‚   â”‚   â””â”€â”€ transactionService.ts              # â† services/transactionService.ts\r\nâ”‚   â”œâ”€â”€ privacy/\r\nâ”‚   â”‚   â””â”€â”€ privacyHelpers.ts                  # â† services/privacyHelpers.ts\r\nâ”‚   â”œâ”€â”€ migration/\r\nâ”‚   â”‚   â””â”€â”€ migrationService.ts                # â† services/migrationService.ts\r\nâ”‚   â””â”€â”€ legacy/                                # compat-laag (optioneel, voor gefaseerde afbouw)\r\nâ”‚       â””â”€â”€ selectors/\r\nâ”‚           â”œâ”€â”€ financialSelectors.ts          # â† selectors/financialSelectors.ts\r\nâ”‚           â””â”€â”€ householdSelectors.ts          # â† selectors/householdSelectors.ts\r\nâ”‚\r\nâ”œâ”€â”€ infrastructure/\r\nâ”‚   â”œâ”€â”€ adapters/\r\nâ”‚   â”‚   â”œâ”€â”€ csv/\r\nâ”‚   â”‚   â”‚   â””â”€â”€ csvService.ts                  # âœ… eerder verplaatst\r\nâ”‚   â”‚   â”œâ”€â”€ storage/\r\nâ”‚   â”‚   â”‚   â”œâ”€â”€ storage.ts                     # âœ… eerder verplaatst\r\nâ”‚   â”‚   â”‚   â””â”€â”€ storageShim.ts                 # â† services/storageShim.ts (nu infra/shims)\r\nâ”‚   â”‚   â””â”€â”€ audit/\r\nâ”‚   â”‚       â”œâ”€â”€ AuditLogger.ts                 # â† utils/AuditLogger.ts\r\nâ”‚   â”œâ”€â”€ logging/\r\nâ”‚   â”‚   â””â”€â”€ logger.ts                          # â† services/logger.ts\r\nâ”‚   â”œâ”€â”€ telemetry/\r\nâ”‚   â”‚   â””â”€â”€ ping.ts                            # â† utils/ping.ts\r\nâ”‚   â””â”€â”€ shims/\r\nâ”‚       â””â”€â”€ storageShim.ts                     # alias naar adapters/storage/storageShim.ts (1 plek)\r\nâ”‚\r\nâ”œâ”€â”€ ui/\r\nâ”‚   â”œâ”€â”€ components/\r\nâ”‚   â”‚   â””â”€â”€ Containers/\r\nâ”‚   â”‚       â””â”€â”€ AdultsCounter.tsx              # â† containers/AdultsCounter.tsx\r\nâ”‚   â”œâ”€â”€ navigation/\r\nâ”‚   â”‚   â””â”€â”€ Navigator.tsx                      # â† src/navigation/Navigator.tsx (geÃ¼nificeerd pad)\r\nâ”‚   â””â”€â”€ screens/                               # (plaatsbaken; geen verplaatsing nodig nu)\r\nâ”‚\r\nâ”œâ”€â”€ kernel/                                    # blijft, expliciet geborgd\r\nâ”‚   â””â”€â”€ finance/\r\nâ”‚       â”œâ”€â”€ index.ts\r\nâ”‚       â””â”€â”€ mappers.ts\r\nâ”‚\r\nâ”œâ”€â”€ shared/                                    # test utilities + gedeelde test data\r\nâ”‚   â””â”€â”€ test-utils/                            # â† src/test-utils/ (indien aanwezig)\r\nâ”‚\r\nâ”œâ”€â”€ __tests__/                                  # test-infra blijft, expliciet geborgd\r\nâ”‚\r\nâ””â”€â”€ __mocks__/                                  # mocks vanuit services/__mocks__ hierheen verplaatst\r\n``\r\n\r\n=====\r\ntree src \\  -a \\  -I \"node_modules|dist|build\" \\  | grep -E \"(utils|helpers|common|shared|legacy|old|temp|misc|services)\"\r\nâ”‚Â Â      â”œâ”€â”€ .reconstruct_placeholder\r\nâ”‚Â Â          â””â”€â”€ .placeholder\r\nâ”‚Â Â      â”œâ”€â”€ .reconstruct_placeholder\r\nâ”‚Â Â      â”‚Â Â  â””â”€â”€ .placeholder\r\nâ”‚Â Â  â”œâ”€â”€ helpers\r\nâ”‚Â Â  â”œâ”€â”€ household.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ householdRules.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ household.test.ts\r\nâ”‚Â Â      â”œâ”€â”€ .reconstruct_placeholder\r\nâ”‚Â Â          â””â”€â”€ .placeholder\r\nâ”œâ”€â”€ services\r\nâ”‚Â Â  â”œâ”€â”€ householdAlign.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ householdAlign.test.ts\r\nâ”œâ”€â”€ shared\r\nâ”‚Â Â  â””â”€â”€ utils\r\nâ”œâ”€â”€ shared-types\r\nâ”œâ”€â”€ test-utils\r\nâ”‚Â Â  â””â”€â”€ utils\r\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ 1setupHousehold.config.ts\r\nâ”‚Â Â  â”‚Â Â      â”‚Â Â  â”œâ”€â”€ 2detailsHousehold.config.ts\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ householdSelectors.ts\r\nâ”‚Â Â  â”‚Â Â      â”œâ”€â”€ householdSelectors.test.ts\r\nâ”‚Â Â  â”‚Â Â          â””â”€â”€ householdSelectors.test.ts.snap\r\nâ””â”€â”€ utils\r\n===\r\ntree src \\  -a \\  | grep -E \"(manager|handler|controller|service|adapter|provider|factory)\"\r\nâ”œâ”€â”€ adapters\r\nâ”œâ”€â”€ services\r\nâ”‚Â Â  â”‚Â Â  â”œâ”€â”€ providers.tsx\r\n=====\r\ntree src \\  -a \\  | grep -E \"(shared|state|schema|types)\"\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ stateful.ts\r\nâ”‚Â Â      â”œâ”€â”€ stateful.ts\r\nâ”‚Â Â  â”œâ”€â”€ state\r\nâ”‚Â Â  â””â”€â”€ types\r\nâ”‚Â Â  â”œâ”€â”€ types\r\nâ”‚Â Â  â”œâ”€â”€ types.ts\r\nâ”œâ”€â”€ shared\r\nâ”‚Â Â  â”œâ”€â”€ types\r\nâ”œâ”€â”€ shared-types\r\nâ”œâ”€â”€ state\r\nâ”‚Â Â  â””â”€â”€ schemas\r\nâ”‚Â Â          â””â”€â”€ schemas.test.ts\r\nâ”‚Â Â  â”‚Â Â  â””â”€â”€ stateFactory.ts\r\n====\r\nfind src -type f -name \"*.ts*\" -exec wc -l {} + | awk '$1 > 100 {print $2, \"â†’\", $1, \"lines\"}'\r\nsrc/services/__tests__/migration.members.test.ts â†’ 222 lines\r\nsrc/services/__tests__/privacyHelpers.test.ts â†’ 126 lines\r\nsrc/services/__tests__/idempotency.test.ts â†’ 329 lines\r\nsrc/services/privacyHelpers.ts â†’ 132 lines\r\nsrc/services/dataOrchestrator.ts â†’ 122 lines\r\nsrc/ui/components/__tests__/MoneyInput.test.tsx â†’ 375 lines\r\nsrc/ui/screens/CSV/CsvUploadScreen.tsx â†’ 148 lines\r\nsrc/ui/screens/Daily/__tests__/__snapshots__/UndoScreen.test.tsx.snap â†’ 335 lines\r\nsrc/ui/styles/modules/Forms.ts â†’ 138 lines\r\nsrc/ui/styles/modules/Buttons.ts â†’ 103 lines\r\nsrc/utils/__tests__/numbers.test.ts â†’ 118 lines\r\nsrc/utils/__tests__/date.test.ts â†’ 133 lines\r\nsrc/utils/__tests__/logger.test.ts â†’ 319 lines\r\nsrc/utils/__tests__/frequency.test.ts â†’ 103 lines\r\nsrc/utils/date.ts â†’ 237 lines\r\nsrc/app/hooks/useTransactionHistory.ts â†’ 137 lines\r\nsrc/app/hooks/__tests__/useTransactionHistory.test.ts â†’ 151 lines\r\nsrc/app/hooks/__tests__/useAppOrchestration.test.tsx â†’ 111 lines\r\ntotal â†’ 9770 lines\r\n======\r\nPerfect! Als we de **testbestanden** eruit halen, blijft het overzicht van **grote, productie- of helper-bestanden (>100 lijnen)** over die extra aandacht nodig hebben bij migratie. Ik heb het overzicht opgeschoond:\r\n\r\n---\r\n\r\n# ðŸŸ¢ Migratie Review Overzicht â€” â€œRestschuld & Complexe Filesâ€ (tests verwijderd)\r\n\r\n## 1ï¸âƒ£ Grote productie-/helper-bestanden (>100 lijnen)\r\n\r\n| Bestand                                  | Lijnen | Opmerkingen                                                                          |\r\n| ---------------------------------------- | ------ | ------------------------------------------------------------------------------------ |\r\n| `src/services/privacyHelpers.ts`         | 132    | Service; migratie naar `application/privacy/` nodig                                  |\r\n| `src/services/dataOrchestrator.ts`       | 122    | Service; migratie naar `application/orchestrators/`                                  |\r\n| `src/ui/screens/CSV/CsvUploadScreen.tsx` | 148    | UI screen; check dependencies op services/adapters                                   |\r\n| `src/ui/styles/modules/Forms.ts`         | 138    | UI style module; nu onder `ui/styles/modules/` maar wordt beheerd via `useAppStyles` |\r\n| `src/ui/styles/modules/Buttons.ts`       | 103    | UI style module; idem als Forms.ts                                                   |\r\n| `src/utils/date.ts`                      | 237    | Helper; migratie naar `domain/helpers/date.ts`                                       |\r\n| `src/app/hooks/useTransactionHistory.ts` | 137    | Hook; check afhankelijkheden en contextgebruik                                       |\r\n\r\nâœ… **Aantal bestanden:** 7\r\nâœ… **Totaal lijnen:** 1047\r\n\r\n---\r\n\r\n## 2ï¸âƒ£ Mogelijk dubbel / restschuld bestanden\r\n\r\n| Bestand                                | Reden / Commentaar                         | Migratie suggestie                              |\r\n| -------------------------------------- | ------------------------------------------ | ----------------------------------------------- |\r\n| `src/services/` (diverse)              | Ongebruikte services / compat-laag?        | Migreren naar `application/` of legacy/adapter  |\r\n| `src/utils/`                           | Sommige helpers zijn nu `domain/helpers`   | Herplaatsen en referenties aanpassen            |\r\n| `src/state/schemas/FormStateSchema.ts` | Staat nu in `state/`                       | Migratie naar `domain/validation/schemas/`      |\r\n| `src/selectors/`                       | Dubbele functie met legacy orchestrators   | Plaatsen in `application/legacy/selectors/`     |\r\n| `src/ui/styles/modules/*`              | Wordt georchestratet door `useAppStyles`   | Modules kunnen blijven, maar check verwijzingen |\r\n| `src/ui/screens`                       | Grote UI screens (>100 lijnen)             | Review afhankelijkheden op services/adapters    |\r\n| `src/app/hooks`                        | Hooks zijn groot / afhankelijk van context | Check migratie naar nieuwe orchestratie-context |\r\n\r\n---\r\n\r\n## 3ï¸âƒ£ Structuur en migratiepunten\r\n\r\n```\r\nsrc/\r\nâ”œâ”€â”€ domain/\r\nâ”‚   â”œâ”€â”€ validation/   # FormStateSchema migreren + andere schemaâ€™s\r\nâ”‚   â”œâ”€â”€ types/        # Expenses, Income, Transaction, Wizard nog migreren\r\nâ”‚   â””â”€â”€ helpers/      # fieldVisibility, frequency, numbers, objects, strings, date\r\nâ”œâ”€â”€ application/       # services migreren (dataOrchestrator, transactionService, privacyHelpers, etc.)\r\nâ”œâ”€â”€ infrastructure/    # adapters, logging, telemetry\r\nâ”œâ”€â”€ ui/                # screens, components; style modules via useAppStyles\r\nâ”œâ”€â”€ kernel/            # finance blijft expliciet\r\nâ”œâ”€â”€ shared/            # test-utils\r\nâ””â”€â”€ __tests__/          # test infra blijft\r\n```\r\n\r\nðŸ’¡ **Conclusie:**\r\n\r\n* Productie-/helper-bestanden >100 lijnen **prioriteit review**.\r\n* Services, utils en selectors bevatten **dubbele functies** of **nog niet gemigreerde logica**.\r\n* UI styles en hooks moeten gecontroleerd worden tegen `useAppStyles` en nieuwe orchestratie-context.\r\n* FormStateSchema en domain types zijn **kritisch** voor SVZ-0 compliance.\r\n\r\n---\r\n\r\nAls je wilt, kan ik nu meteen **een actielijst per bestand maken**, met migratiepad + risico + review-notities, zodat je **een kant-en-klare checklist** hebt voor deze resterende bestanden.\r\n\r\nWil ik dat doen?\r\n\r\n\r\n\r\n\r\n======\r\nHier is **de beste volgorde** om jouw migratie *daadwerkelijk* en *zonder risico* uit te voeren.  \r\nDit is **SVZâ€‘0-proof**, sluit perfect aan op jouw gapâ€‘analyse, Ã©n voorkomt refactor-chaos.\r\n\r\nIk ken je hele architectuurpad inmiddels goed â€” dus dit is een **praktisch uitvoerbaar stappenplan** dat je direct kunt toepassen.\r\n\r\n***\r\n\r\n# ðŸš¦ **Migratie volgorde â€” De Enige Juiste Volgorde (SVZâ€‘0 Compliant)**\r\n\r\nJe hebt nu drie hoofdgroepen:\r\n\r\n1.  **Kritische kern** (types, schemaâ€™s, helpers)\r\n2.  **Operationele kern** (services â†’ application)\r\n3.  **UI & orchestration** (screens, hooks, styles)\r\n\r\nDe ideale volgorde is **van binnen â†’ naar buiten**:\r\n\r\n1.  **Domain stabiel maken**\r\n2.  **Infrastructure stabiliseren**\r\n3.  **Application ordenen**\r\n4.  **UI opnieuw verankeren op nieuwe lagen**\r\n\r\nHier komt de exacte volgorde.\r\n\r\n***\r\n\r\n# ðŸ¥‡ **Stap 1 â€” Domain stabiliseren (de fundering)**\r\n\r\n> *Niets anders migreren zolang dit niet rond is.*\r\n\r\n### 1.1 Migreer alle types\r\n\r\n> Types zijn de **TODO â†’ DONE** van je hele architectuur.\r\n\r\nDoen:\r\n\r\n*   `shared-types/*` â†’ `domain/types/*`\r\n*   Let op: vooral `transaction`, `wizard`, `income`, `expenses` zijn **kritisch**.\r\n\r\nEffect:  \r\nðŸ‘‰ Je hele codebase krijgt consistente lowâ€‘level contracten.\r\n\r\n***\r\n\r\n### 1.2 Migreer alle schemaâ€™s\r\n\r\n*   `state/schemas/FormStateSchema.ts` â†’ `domain/validation/schemas/FormStateSchema.ts`\r\n\r\nEffect:\r\nðŸ‘‰ Alle validatie/mappings gebruiken dezelfde bron.\r\n\r\n***\r\n\r\n### 1.3 Migreer alle helpers\r\n\r\nJe hebt zware helpers:\r\n\r\n*   `utils/date.ts` (237 lijnen)\r\n*   numbers/strings/objects/frequency/fieldVisibility\r\n\r\nDoen:\r\n\r\n*   naar `domain/helpers/*`\r\n*   referenties systematisch updaten\r\n\r\nEffect:\r\nðŸ‘‰ **Businessregels zitten nu gecentraliseerd in een pure, side-effect-free laag.**\r\n\r\n***\r\n\r\n# ðŸ¥ˆ **Stap 2 â€” Infrastructure ordenen (bruggen & adapters)**\r\n\r\n> *Voordat je application-layer services verplaatst, moeten alle adapters valide zijn.*\r\n\r\n### 2.1 Logging\r\n\r\n*   `services/logger.ts` â†’ `infrastructure/logging/logger.ts`\r\n\r\n### 2.2 Audit\r\n\r\n*   `AuditLogger.ts` â†’ `infrastructure/adapters/audit/AuditLogger.ts`\r\n\r\n### 2.3 Telemetry\r\n\r\n*   `utils/ping.ts` â†’ `infrastructure/telemetry/ping.ts`\r\n\r\n### 2.4 Storage\r\n\r\n*   `storage.ts` is al migratie-compliant\r\n*   `storageShim.ts` moet naar `infrastructure/adapters/storage/storageShim.ts`\r\n\r\nEffect:\r\nðŸ‘‰ **Alle sideâ€‘effect code staat nu veilig onder infrastructure voordat je application-layer gaat reorganiseren.**\r\n\r\n***\r\n\r\n# ðŸ¥‰ **Stap 3 â€” Application migreren (services â†’ orchestrators)**\r\n\r\n> Dit is jouw grootste restschuld Ã©n grootste winst.\r\n\r\n### 3.1 Grote services migreren\r\n\r\nMigratie naar:\r\n\r\n    application/\r\n      orchestrators/\r\n      processors/\r\n      migration/\r\n      privacy/\r\n      household/\r\n      transactions/\r\n\r\nDe grote jongens:\r\n\r\n| Bestand               | Aandacht                   |\r\n| --------------------- | -------------------------- |\r\n| dataOrchestrator.ts   | 122 lijnen, high strategic |\r\n| privacyHelpers.ts     | 132 lijnen, complex        |\r\n| transactionService.ts | high coupling              |\r\n| dataProcessor.ts      | CPU + IO mix               |\r\n| householdAlign.ts     | domain heavy               |\r\n| migrationService.ts   | edge cases                 |\r\n\r\n**Dit is het zwaarste blok in de migratie.**\r\n\r\n***\r\n\r\n### 3.2 Legacy selectors naar compatâ€‘laag\r\n\r\n> Mag pas NA domain + infrastructure klaar is.\r\n\r\n*   `selectors/*` â†’ `application/legacy/selectors/`\r\n\r\nEffect:  \r\nðŸ‘‰ Je breekt niets, maar voorkomt dat deze rotzooi centraal in app blijft ronddwalen.\r\n\r\n***\r\n\r\n# ðŸŸ¦ **Stap 4 â€” UI stabiliseren**\r\n\r\n> UI mag pas worden aangepakt als domain + infra + application stabiel zijn.\r\n\r\nUI bestaat uit drie grote issues:\r\n\r\n### 4.1 Grote screens reviewen (CSV upload screen)\r\n\r\n*   `CsvUploadScreen.tsx` (148 lijnen)\r\n    *   controleer dependencies op: services (nu application), utils (nu domain/helpers), adapters/infrastructure.\r\n\r\nDoel:\r\nðŸ‘‰ Screen moet alleen praten met **application-layer**, niet direct met services/infra.\r\n\r\n***\r\n\r\n### 4.2 Hooks migreren\r\n\r\n*   `useTransactionHistory.ts` (137 lijnen)\r\n\r\nChecklist:\r\n\r\n*   Praat deze hook direct met services? â†’ fix naar `application/transactions/**`\r\n*   Gebruikt deze hook state die nu onder domain/validation hoort?\r\n\r\n***\r\n\r\n### 4.3 UI styles consistent maken\r\n\r\nDe style modules:\r\n\r\n*   `ui/styles/modules/Forms.ts` (138 lijnen)\r\n*   `ui/styles/modules/Buttons.ts` (103 lijnen)\r\n\r\nActie:\r\n\r\n*   check afhankelijkheid op `useAppStyles`\r\n*   styles blijven, maar zorg dat:  \r\n    âž¤ ze **geen domeinlogica**, **geen helpers** of **geen services** aanroepen.\r\n\r\n***\r\n\r\n# ðŸŸ© **Stap 5 â€” Kernel valideren**\r\n\r\n> Gebeurt *vlak voor afronding*.\r\n\r\nKernel bestaat:\r\n\r\n*   `kernel/finance/index.ts`\r\n*   `kernel/finance/mappers.ts`\r\n\r\nActie:\r\n\r\n*   alleen validatie dat nieuwe domain/helpers ze niet breekt\r\n\r\nGeen migratie nodig.\r\n\r\n***\r\n\r\n# ðŸŸ£ **Stap 6 â€” Cleanup & Shims verwijderen**\r\n\r\n> Dit is je â€œSVZâ€‘1 polishâ€.\r\n\r\n1.  Servicesâ€‘shims verwijderen\r\n2.  Oude utils-map verwijderen\r\n3.  Oude shared-types-map verwijderen\r\n4.  Oude selectors-map verwijderen\r\n5.  Oude state-map verwijderen\r\n\r\n***\r\n\r\n# ðŸ **Volgorde Samengevat (Kern)**\r\n\r\n    1. DOMAIN\r\n       1. types\r\n       2. schemas\r\n       3. helpers\r\n\r\n    2. INFRASTRUCTURE\r\n       1. logging\r\n       2. audit\r\n       3. telemetry\r\n       4. storage\r\n\r\n    3. APPLICATION\r\n       1. grote services\r\n       2. legacy selectors\r\n\r\n    4. UI\r\n       1. grote screens\r\n       2. hooks\r\n       3. styles\r\n\r\n    5. KERNEL (validatie)\r\n\r\n    6. CLEANUP\r\n\r\n***\r\n\r\n# ðŸš€ Wat is de optimale volgende stap *nu*?\r\n\r\nJe hebt al:\r\n\r\n*   gap-analyse âœ”ï¸\r\n*   grote bestanden-inventaris âœ”ï¸\r\n*   migratiestructuur âœ”ï¸\r\n*   gewenste mappenstructuur âœ”ï¸\r\n*   prioriteitenlijst âœ”ï¸\r\n\r\nDaarmee is de **volgende concrete stap**:\r\n\r\n> **Maak een migratieboard waarin elke map (/services, /utils, /state, /selectors, /styles, /hooks, /screens) Ã©Ã©n epic is, en elk groot bestand een ticket.**\r\n\r\nAls je wilt, maak ik:\r\n\r\n### ðŸ‘‰ **Automatisch gegenereerd GitHub Project Board (CSV of JSON)**\r\n\r\n### ðŸ‘‰ **Jira-import**\r\n\r\n### ðŸ‘‰ **Of een commit-sjabloon + map-herstructureringsscript (Node/TS)**\r\n\r\nWat wil je als eerst?\r\n"
}